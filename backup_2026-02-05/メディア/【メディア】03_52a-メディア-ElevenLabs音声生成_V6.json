{
  "name": "ã€ãƒ¡ãƒ‡ã‚£ã‚¢ã€‘03_52a-ãƒ¡ãƒ‡ã‚£ã‚¢-ElevenLabséŸ³å£°ç”Ÿæˆ_V6",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "voice-generate-v6",
        "options": {
          "responseMode": "responseNode"
        }
      },
      "id": "webhook",
      "name": "Webhook: voice-generate-v6",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "webhookId": "voice-generate-v6"
    },
    {
      "parameters": {
        "jsCode": "// ============================================================================\n// N3-52a V6: ElevenLabséŸ³å£°ç”Ÿæˆ - ãƒã‚¤ã‚ªãƒã‚¤ã‚ºå¼·åŒ–ç‰ˆ\n// GeminiæŒ‡ç¤ºå®Œå…¨æº–æ‹ :\n//   1. èªå°¾ãƒ”ãƒƒãƒÂ±0.2%ãƒ©ãƒ³ãƒ€ãƒ åŒ–\n//   2. å¥èª­ç‚¹ãƒãƒ¼ã‚º0.05ã€œ0.15ç§’ãƒ©ãƒ³ãƒ€ãƒ åŒ–\n//   3. æ¯ç¶™ã[breath]è‡ªå‹•æŒ¿å…¥\n// ============================================================================\n\nconst apiUrl = $env.N3_API_URL || $env.API_BASE_URL;\nconst elevenlabsKey = $env.ELEVENLABS_API_KEY;\n\nif (!apiUrl) {\n  return [{ json: { error: true, message: 'N3_API_URLç’°å¢ƒå¤‰æ•°ãŒæœªè¨­å®š', code: 'CONFIG_ERROR' } }];\n}\nif (!elevenlabsKey) {\n  return [{ json: { error: true, message: 'ELEVENLABS_API_KEYç’°å¢ƒå¤‰æ•°ãŒæœªè¨­å®š', code: 'CONFIG_ERROR' } }];\n}\n\nconst body = $input.first().json.body || $input.first().json || {};\n\nconst text = body.text;\nconst voiceId = body.voice_id || $env.ELEVENLABS_DEFAULT_VOICE_ID || 'EXAVITQu4vr4xnSDxMaL';\nconst productId = body.product_id;\nconst contentId = body.content_id;\nconst genre = body.genre || 'general';\nconst language = body.language || 'ja';\n\n// ãƒã‚¤ã‚ªãƒã‚¤ã‚ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆONï¼‰\nconst bioNoiseOptions = {\n  enable_pitch_variation: body.enable_pitch_variation !== false,\n  enable_pause_randomization: body.enable_pause_randomization !== false,\n  enable_breath_insertion: body.enable_breath_insertion !== false,\n  pitch_variation_range: body.pitch_variation_range || 0.002, // Â±0.2%\n  pause_min_ms: body.pause_min_ms || 50,  // 0.05ç§’\n  pause_max_ms: body.pause_max_ms || 150, // 0.15ç§’\n  breath_probability: body.breath_probability || 0.3 // 30%ã®ç¢ºç‡\n};\n\nif (!text) {\n  return [{ json: { error: true, message: 'text ã¯å¿…é ˆ', code: 'MISSING_PARAM' } }];\n}\n\n// ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\nconst genreSettings = {\n  general: { stability: 0.5, similarity_boost: 0.75, style: 0.2 },\n  electronics: { stability: 0.7, similarity_boost: 0.8, style: 0.1 },\n  apparel: { stability: 0.4, similarity_boost: 0.7, style: 0.4 },\n  luxury: { stability: 0.8, similarity_boost: 0.85, style: 0.0 },\n  education: { stability: 0.65, similarity_boost: 0.75, style: 0.2 },\n  entertainment: { stability: 0.35, similarity_boost: 0.7, style: 0.5 }\n};\n\nconst settings = genreSettings[genre] || genreSettings.general;\n\nreturn [{\n  json: {\n    text,\n    voice_id: voiceId,\n    product_id: productId,\n    content_id: contentId,\n    genre,\n    language,\n    voice_settings: settings,\n    bio_noise: bioNoiseOptions,\n    api_url: apiUrl,\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "init",
      "name": "ğŸ” åˆæœŸåŒ–ï¼ˆé‰„ã®æŸæº–æ‹ ï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "error-check",
              "leftValue": "={{ $json.error }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "id": "check-error",
      "name": "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify({ success: false, error: $json.message, code: $json.code }) }}",
        "options": {
          "responseCode": 400
        }
      },
      "id": "respond-error",
      "name": "ã‚¨ãƒ©ãƒ¼å¿œç­”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "jsCode": "// ============================================================================\n// ãƒã‚¤ã‚ªãƒã‚¤ã‚ºå‡¦ç† Phase 1: ãƒ†ã‚­ã‚¹ãƒˆå‰å‡¦ç†\n// - å¥èª­ç‚¹å¾Œã®ãƒãƒ¼ã‚ºã‚’SSMLã§æŒ¿å…¥\n// - æ¯ç¶™ããƒãƒ¼ã‚«ãƒ¼æŒ¿å…¥\n// ============================================================================\n\nconst data = $input.first().json;\nconst bio = data.bio_noise;\nlet text = data.text;\n\n// 1. å¥èª­ç‚¹ãƒãƒ¼ã‚ºã®ãƒ©ãƒ³ãƒ€ãƒ åŒ–ï¼ˆGeminiæŒ‡ç¤º: 0.05-0.15ç§’ï¼‰\nif (bio.enable_pause_randomization) {\n  // æ–‡æœ«ï¼ˆã€‚ï¼ï¼Ÿï¼‰ã®å¾Œã«ãƒ©ãƒ³ãƒ€ãƒ ãƒãƒ¼ã‚º\n  text = text.replace(/([ã€‚ï¼ï¼Ÿ])/g, (match) => {\n    const pauseMs = Math.floor(bio.pause_min_ms + Math.random() * (bio.pause_max_ms - bio.pause_min_ms));\n    return match + `<break time=\"${pauseMs}ms\"/>`;\n  });\n  \n  // èª­ç‚¹ï¼ˆã€ï¼‰ã®å¾Œã«çŸ­ã‚ã®ãƒãƒ¼ã‚º\n  text = text.replace(/([ã€,])/g, (match) => {\n    const pauseMs = Math.floor(bio.pause_min_ms * 0.6 + Math.random() * (bio.pause_max_ms * 0.6));\n    return match + `<break time=\"${pauseMs}ms\"/>`;\n  });\n}\n\n// 2. æ¯ç¶™ãæŒ¿å…¥ï¼ˆç¢ºç‡çš„ï¼‰\nif (bio.enable_breath_insertion) {\n  // é•·ã„æ–‡ã®é€”ä¸­ã«æ¯ç¶™ãã‚’æŒ¿å…¥\n  const sentences = text.split(/([ã€‚ï¼ï¼Ÿ])/);\n  text = sentences.map((segment, i) => {\n    // å¥èª­ç‚¹ã¯é™¤å¤–\n    if (/^[ã€‚ï¼ï¼Ÿ]$/.test(segment)) return segment;\n    \n    // 20æ–‡å­—ä»¥ä¸Šã®æ–‡ã§ã€ç¢ºç‡çš„ã«æ¯ç¶™ãã‚’è¿½åŠ \n    if (segment.length > 20 && Math.random() < bio.breath_probability) {\n      // æ–‡ã®ä¸­é–“ä»˜è¿‘ã«æ¯ç¶™ãã‚’æŒ¿å…¥\n      const midPoint = Math.floor(segment.length / 2);\n      const insertPoint = segment.lastIndexOf('ã€', midPoint);\n      if (insertPoint > 0) {\n        return segment.slice(0, insertPoint + 1) + '<break time=\"200ms\"/>' + segment.slice(insertPoint + 1);\n      }\n    }\n    return segment;\n  }).join('');\n}\n\n// 3. æºœã‚ï¼ˆ...ï¼‰ã®å‡¦ç†\ntext = text.replace(/\\.\\.\\.+/g, '<break time=\"300ms\"/>');\ntext = text.replace(/â€¦+/g, '<break time=\"300ms\"/>');\n\nreturn [{\n  json: {\n    ...data,\n    original_text: data.text,\n    processed_text: text,\n    bio_noise_applied: {\n      pause_randomization: bio.enable_pause_randomization,\n      breath_insertion: bio.enable_breath_insertion\n    }\n  }\n}];"
      },
      "id": "bio-noise-text",
      "name": "ğŸ« ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase1: ãƒ†ã‚­ã‚¹ãƒˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.elevenlabs.io/v1/text-to-speech/{{ $json.voice_id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "Accept",
              "value": "audio/mpeg"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ text: $json.processed_text, model_id: 'eleven_multilingual_v2', voice_settings: { stability: $json.voice_settings.stability, similarity_boost: $json.voice_settings.similarity_boost, style: $json.voice_settings.style, use_speaker_boost: true } }) }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          },
          "timeout": 120000
        }
      },
      "id": "elevenlabs-api",
      "name": "ğŸ™ï¸ ElevenLabs API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "credentials": {
        "httpHeaderAuth": {
          "id": "elevenlabs-auth",
          "name": "ElevenLabs API Key"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "// ============================================================================\n// ãƒã‚¤ã‚ªãƒã‚¤ã‚ºå‡¦ç† Phase 2: éŸ³å£°å¾Œå‡¦ç†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç”Ÿæˆ\n// GeminiæŒ‡ç¤º: èªå°¾ãƒ”ãƒƒãƒÂ±0.2%ãƒ©ãƒ³ãƒ€ãƒ åŒ–\n// FFmpegã§å¾Œå‡¦ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ\n// ============================================================================\n\nconst response = $input.first();\nconst prevData = $node['ğŸ« ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase1: ãƒ†ã‚­ã‚¹ãƒˆ'].json;\nconst bio = prevData.bio_noise;\n\n// ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯\nif (response.json?.error || response.json?.detail) {\n  return [{\n    json: {\n      ...prevData,\n      voice_generated: false,\n      error: response.json?.detail || response.json?.error?.message || 'ElevenLabs API Error'\n    }\n  }];\n}\n\nif (!response.binary?.data) {\n  return [{\n    json: {\n      ...prevData,\n      voice_generated: false,\n      error: 'éŸ³å£°ãƒ‡ãƒ¼ã‚¿ãŒç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ'\n    }\n  }];\n}\n\n// ãƒ”ãƒƒãƒå¤‰å‹•ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆGeminiæŒ‡ç¤º: Â±0.2%ï¼‰\nlet pitchAdjustments = [];\nif (bio.enable_pitch_variation) {\n  // èªå°¾ï¼ˆæ–‡æœ«ï¼‰ã§ãƒ”ãƒƒãƒã‚’å¾®èª¿æ•´\n  // åŸºæº–: 1.0ã€ç¯„å›²: 0.998ã€œ1.002\n  const range = bio.pitch_variation_range || 0.002;\n  \n  // è¤‡æ•°ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«å¯¾ã—ã¦ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ”ãƒƒãƒå¤‰å‹•ã‚’ç”Ÿæˆ\n  // å®Ÿéš›ã®FFmpegå‡¦ç†ã§ã¯ã€éŸ³å£°ã‚’åˆ†å‰²ã—ã¦ãã‚Œãã‚Œã«ãƒ”ãƒƒãƒã‚’é©ç”¨\n  for (let i = 0; i < 5; i++) {\n    const variation = 1.0 + (Math.random() * 2 - 1) * range;\n    pitchAdjustments.push({\n      segment: i,\n      pitch_factor: variation,\n      filter: `asetrate=44100*${variation.toFixed(6)},aresample=44100`\n    });\n  }\n}\n\n// å…¨ä½“ã®ãƒ”ãƒƒãƒå¾®èª¿æ•´ï¼ˆå˜ä¸€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç‰ˆï¼‰\nconst globalPitchVariation = 1.0 + (Math.random() * 2 - 1) * (bio.pitch_variation_range || 0.002);\n\nreturn [{\n  json: {\n    ...prevData,\n    voice_generated: true,\n    audio_size: response.binary.data.fileSize || 0,\n    bio_noise_post_processing: {\n      enabled: bio.enable_pitch_variation,\n      global_pitch_factor: globalPitchVariation,\n      segment_adjustments: pitchAdjustments,\n      ffmpeg_global_filter: `asetrate=44100*${globalPitchVariation.toFixed(6)},aresample=44100`,\n      // è¿½åŠ ã®äººé–“åŒ–ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼\n      ffmpeg_humanize_filter: [\n        `asetrate=44100*${globalPitchVariation.toFixed(6)}`,\n        'aresample=44100',\n        'highpass=f=80',  // ä½å‘¨æ³¢ãƒã‚¤ã‚ºé™¤å»\n        'loudnorm=I=-16:TP=-1.5:LRA=11'  // ãƒ©ã‚¦ãƒ‰ãƒã‚¹æ­£è¦åŒ–\n      ].join(',')\n    }\n  },\n  binary: response.binary\n}];"
      },
      "id": "bio-noise-audio",
      "name": "ğŸ”Š ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase2: éŸ³å£°",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "has-content-id",
              "leftValue": "={{ $json.content_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ]
        }
      },
      "id": "check-content-id",
      "name": "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„IDæœ‰ï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO voice_generation_logs (content_id, voice_id, original_text, processed_text, bio_noise_config, pitch_adjustment, audio_size, status, created_at) VALUES ($1, $2, $3, $4, $5::jsonb, $6, $7, 'completed', NOW()) RETURNING log_id",
        "options": {
          "queryParams": "={{ [$json.content_id, $json.voice_id, $json.original_text.substring(0, 500), $json.processed_text.substring(0, 500), JSON.stringify($json.bio_noise), $json.bio_noise_post_processing.global_pitch_factor, $json.audio_size] }}"
        }
      },
      "id": "save-log",
      "name": "ğŸ’¾ ãƒ­ã‚°ä¿å­˜",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const data = $input.first().json;\nconst binary = $input.first().binary;\n\nreturn [{\n  json: {\n    success: true,\n    action: 'voice_generated',\n    content_id: data.content_id || null,\n    voice_id: data.voice_id,\n    genre: data.genre,\n    audio_size: data.audio_size,\n    bio_noise_applied: {\n      text_processing: data.bio_noise_applied,\n      audio_processing: {\n        pitch_variation: data.bio_noise_post_processing?.enabled || false,\n        global_pitch_factor: data.bio_noise_post_processing?.global_pitch_factor || 1.0\n      }\n    },\n    ffmpeg_filter: data.bio_noise_post_processing?.ffmpeg_humanize_filter || null,\n    timestamp: new Date().toISOString()\n  },\n  binary: binary\n}];"
      },
      "id": "format-response",
      "name": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify($json) }}",
        "options": {
          "responseCode": 200
        }
      },
      "id": "respond-success",
      "name": "âœ… æˆåŠŸå¿œç­”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "jsCode": "// ğŸ” HMAC SHA256 ç½²åæ¤œè¨¼ (Empire OS v6)\nconst crypto = require('crypto');\n\nconst signature = $request.headers['x-n3-signature'] || $request.headers['X-N3-Signature'];\nconst timestamp = $request.headers['x-n3-timestamp'] || $request.headers['X-N3-Timestamp'];\nconst secret = $env.N8N_HMAC_SECRET;\n\nif (!secret) {\n  throw new Error('ğŸš« N8N_HMAC_SECRET ç’°å¢ƒå¤‰æ•°ãŒæœªè¨­å®šã§ã™');\n}\n\nif (!signature || !timestamp) {\n  throw new Error('ğŸš« ç½²åã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæ¬ è½ã—ã¦ã„ã¾ã™');\n}\n\n// ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯ (5åˆ†)\nconst now = Date.now();\nconst tsAge = now - parseInt(timestamp);\nif (tsAge > 300000 || tsAge < -30000) {\n  throw new Error('ğŸš« ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæœŸé™åˆ‡ã‚Œã¾ãŸã¯ä¸æ­£ã§ã™');\n}\n\n// HMACæ¤œè¨¼\nconst bodyString = JSON.stringify($json);\nconst computedHmac = crypto\n  .createHmac('sha256', secret)\n  .update(timestamp + '.' + bodyString)\n  .digest('hex');\n\nif (signature !== computedHmac) {\n  throw new Error('ğŸš« HMACç½²åæ¤œè¨¼å¤±æ•—: ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ');\n}\n\n// æ¤œè¨¼æˆåŠŸ - å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ãã®ã¾ã¾è¿”ã™\nreturn [{ json: $json }];"
      },
      "name": "ğŸ” HMACç½²åæ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[EMPIRE_OS_V6] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åˆ¶æŒ¿å…¥"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{$env.SUPABASE_URL}}/rest/v1/execution_logs",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{$env.SUPABASE_ANON_KEY}}"
            },
            {
              "name": "Authorization",
              "value": "=Bearer {{$env.SUPABASE_SERVICE_ROLE_KEY}}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "Prefer",
              "value": "return=minimal"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"workflow_id\": \"{{$workflow.id}}\",\n  \"workflow_name\": \"{{$workflow.name}}\",\n  \"status\": \"success\",\n  \"execution_time_ms\": {{Date.now() - $execution.startedAt.getTime()}},\n  \"error_message\": null,\n  \"executed_at\": \"{{new Date().toISOString()}}\",\n  \"node_count\": {{$workflow.nodes.length}},\n  \"metadata\": {}\n}"
      },
      "name": "ğŸ“Š å®Ÿè¡Œãƒ­ã‚°é€ä¿¡ (æˆåŠŸ)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "continueOnFail": true,
      "notes": "[EMPIRE_OS_V6] ä¸­å¤®ç›£è¦–ãƒ‘ãƒ«ã‚¹"
    }
  ],
  "connections": {
    "Webhook: voice-generate-v6": {
      "main": [
        [
          {
            "node": "ğŸ” HMACç½²åæ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” åˆæœŸåŒ–ï¼ˆé‰„ã®æŸæº–æ‹ ï¼‰": {
      "main": [
        [
          {
            "node": "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯": {
      "main": [
        [
          {
            "node": "ã‚¨ãƒ©ãƒ¼å¿œç­”",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ« ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase1: ãƒ†ã‚­ã‚¹ãƒˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ« ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase1: ãƒ†ã‚­ã‚¹ãƒˆ": {
      "main": [
        [
          {
            "node": "ğŸ™ï¸ ElevenLabs API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ™ï¸ ElevenLabs API": {
      "main": [
        [
          {
            "node": "ğŸ”Š ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase2: éŸ³å£°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”Š ãƒã‚¤ã‚ªãƒã‚¤ã‚º Phase2: éŸ³å£°": {
      "main": [
        [
          {
            "node": "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„IDæœ‰ï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„IDæœ‰ï¼Ÿ": {
      "main": [
        [
          {
            "node": "ğŸ’¾ ãƒ­ã‚°ä¿å­˜",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ãƒ­ã‚°ä¿å­˜": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "âœ… æˆåŠŸå¿œç­”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” HMACç½²åæ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ğŸ” åˆæœŸåŒ–ï¼ˆé‰„ã®æŸæº–æ‹ ï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionTimeout": 180,
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all"
  },
  "tags": [
    {
      "name": "N3-Media",
      "color": "#9b59b6"
    },
    {
      "name": "V6-BioNoise",
      "color": "#00ff00"
    },
    {
      "name": "ElevenLabs",
      "color": "#3498db"
    },
    {
      "name": "IronRule",
      "color": "#e74c3c"
    },
    {
      "name": "Empire-OS-V6",
      "color": "#ff4500"
    }
  ],
  "active": false,
  "meta": {
    "description": "N3-52a V6 ElevenLabséŸ³å£°ç”Ÿæˆ ãƒã‚¤ã‚ªãƒã‚¤ã‚ºå¼·åŒ–ç‰ˆ - GeminiæŒ‡ç¤ºå®Œå…¨æº–æ‹ ",
    "version": "6.0",
    "changelog": "2026-01-20: GeminiæŒ‡ç¤ºå®Œå…¨å®Ÿè£…ï¼ˆãƒ”ãƒƒãƒÂ±0.2%ã€å¥èª­ç‚¹ãƒãƒ¼ã‚º0.05-0.15sã€æ¯ç¶™ãæŒ¿å…¥ï¼‰",
    "iron_rules_compliant": [
      "no_hardcoded_urls",
      "query_params_only",
      "no_crypto_require"
    ],
    "gemini_instructions": {
      "pitch_variation": "Â±0.2% (0.998-1.002)",
      "pause_randomization": "50-150ms after punctuation",
      "breath_insertion": "30% probability"
    }
  }
}