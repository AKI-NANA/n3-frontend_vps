{
  "name": "ã€å‡ºå“ã€‘06_26-å‡ºå“å®Ÿè¡Œ-listing-execute_V7",
  "description": "N3 Empire OS V7-27DIM: å‡ºå“å®Ÿè¡Œï¼ˆ27æ¬¡å…ƒé˜²è¡›å®Œå…¨å¯¾å¿œï¼‰",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "v821-listing-execute",
        "options": {
          "responseMode": "responseNode"
        }
      },
      "id": "webhook",
      "name": "Webhook: listing-execute",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2
    },
    {
      "parameters": {
        "jsCode": "const crypto = require('crypto');\nconst headers = $input.first().json.headers || {};\nconst body = $input.first().json.body || $input.first().json;\nconst jitToken = headers['x-n3-jit-token'] || headers['X-N3-JIT-Token'];\nconst tokenExpiry = headers['x-n3-token-expiry'] || headers['X-N3-Token-Expiry'];\nif (jitToken && tokenExpiry) {\n  const now = Math.floor(Date.now() / 1000);\n  if (now > parseInt(tokenExpiry, 10)) return [{ json: { error: true, message: 'JITãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ', code: 'JIT_TOKEN_EXPIRED' } }];\n}\nconst signature = headers['x-n3-signature'] || '';\nconst timestamp = headers['x-n3-timestamp'] || '';\nif (signature && timestamp) {\n  const secret = $env.N3_HMAC_SECRET || $env.N8N_HMAC_SECRET;\n  if (!secret) return [{ json: { error: true, message: 'HMAC_SECRETæœªè¨­å®š', code: 'CONFIG_ERROR' } }];\n  const ts = parseInt(timestamp, 10);\n  if (Math.abs(Date.now() - ts) > 300000) return [{ json: { error: true, message: 'ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æœŸé™åˆ‡ã‚Œ', code: 'TIMESTAMP_EXPIRED' } }];\n  const computedHmac = crypto.createHmac('sha256', secret).update(timestamp + '.' + JSON.stringify(body)).digest('hex');\n  if (signature !== computedHmac) return [{ json: { error: true, message: 'HMACç½²åæ¤œè¨¼å¤±æ•—', code: 'INVALID_SIGNATURE' } }];\n}\nreturn [{ json: { ...body, _auth_verified: true } }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "id": "jit_hmac_v7",
      "name": "ğŸ” JIT+HMACæ¤œè¨¼ (æ¬¡å…ƒ3)",
      "notes": "[V7-27DIM] æ¬¡å…ƒ3"
    },
    {
      "parameters": {
        "jsCode": "const body = $input.first().json;\nif (body.error) return [{ json: body }];\nconst userId = body.user_id || 'default';\nconst dailyLimit = parseInt($env.BURN_LIMIT_DAILY || '1000', 10);\nconst monthlyLimit = parseInt($env.BURN_LIMIT_MONTHLY || '10000', 10);\nconst apiUrl = $env.N3_API_URL || 'http://localhost:3000';\ntry {\n  const resp = await fetch(`${apiUrl}/api/cost-tracking/check-limit`, {\n    method: 'POST', headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ user_id: userId, operation: 'listing_execute', estimated_cost: 0.03, daily_limit: dailyLimit, monthly_limit: monthlyLimit, strict_mode: true })\n  });\n  const result = await resp.json();\n  if (result.limit_exceeded) return [{ json: { error: true, message: 'ç‡ƒç„¼ä¸Šé™è¶…é', code: 'BURN_LIMIT_EXCEEDED' } }];\n  return [{ json: { ...body, _burn_limit_checked: true } }];\n} catch (e) { return [{ json: { error: true, message: 'ç‡ƒç„¼ä¸Šé™ãƒã‚§ãƒƒã‚¯å¤±æ•—', code: 'BURN_LIMIT_ERROR' } }]; }"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "id": "burn_limit_v7",
      "name": "ğŸ”¥ ç‡ƒç„¼ä¸Šé™ãƒã‚§ãƒƒã‚¯ (æ¬¡å…ƒ22)",
      "notes": "[V7-27DIM] æ¬¡å…ƒ22"
    },
    {
      "parameters": {
        "jsCode": "const body = $input.first().json;\nif (body.error) return [{ json: body }];\nconst productId = body.product_id;\nif (!productId) return [{ json: { ...body, _policy_checked: true, _policy_skip: 'no_product_id' } }];\nconst apiUrl = $env.N3_API_URL || 'http://localhost:3000';\ntry {\n  const policyResponse = await fetch(`${apiUrl}/api/compliance/check-ebay-policy`, {\n    method: 'POST', headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ product_id: productId, checks: ['ebay_tos', 'vero', 'prohibited_items', 'category_restrictions'] })\n  });\n  const policyResult = await policyResponse.json();\n  if (policyResult.blocked) {\n    return [{ json: { error: true, message: 'Policyé•å: ' + policyResult.reason, code: 'POLICY_VIOLATION' } }];\n  }\n  return [{ json: { ...body, _policy_checked: true } }];\n} catch (e) { return [{ json: { ...body, _policy_checked: false, _policy_warning: e.message } }]; }"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "id": "policy_check_v7",
      "name": "âš–ï¸ Policyæ¤œé–² (æ¬¡å…ƒ7)",
      "notes": "[V7-27DIM] æ¬¡å…ƒ7"
    },
    {
      "parameters": {
        "jsCode": "const body = $input.first().json;\nif (body.error) return [{ json: body }];\nconst apiUrl = $env.N3_API_URL || 'http://localhost:3000';\ntry {\n  const tokenResponse = await fetch(`${apiUrl}/api/ebay/get-scoped-token`, {\n    method: 'POST', headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ required_scope: 'write_listing', jit_expiry_seconds: 300 })\n  });\n  const tokenResult = await tokenResponse.json();\n  if (tokenResult.access_token) return [{ json: { ...body, _scoped_token: tokenResult.access_token, _minimum_privilege: true } }];\n  return [{ json: { ...body, _use_legacy_token: true } }];\n} catch (e) { return [{ json: { ...body, _use_legacy_token: true } }]; }"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "id": "min_privilege_token_v7",
      "name": "ğŸ”‘ æœ€å°æ¨©é™ãƒˆãƒ¼ã‚¯ãƒ³ (æ¬¡å…ƒ17)",
      "notes": "[V7-27DIM] æ¬¡å…ƒ17"
    },
    {
      "parameters": {
        "jsCode": "const body = $input.first().json;\nif (body.error) return [{ json: body }];\nconst apiUrl = $env.N3_API_URL || 'http://localhost:3000';\nconst productId = body.product_id;\nconst marketplace = body.marketplace || 'ebay';\nconst account = body.account || 'default';\ntry {\n  const quotaResponse = await fetch(`${apiUrl}/api/category-quota/check`, {\n    method: 'POST', headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ product_id: productId, marketplace: marketplace, account: account })\n  });\n  const quotaResult = await quotaResponse.json();\n  if (!quotaResult.quota_available) {\n    const queueResponse = await fetch(`${apiUrl}/api/night-shift-queue/add`, {\n      method: 'POST', headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ product_id: productId, marketplace: marketplace, account: account, reason: 'category_quota_exhausted' })\n    });\n    const queueResult = await queueResponse.json();\n    return [{ json: { ...body, queued_for_night_shift: true, queue_id: queueResult.queue_id } }];\n  }\n  return [{ json: { ...body, quota_checked: true } }];\n} catch (e) { return [{ json: { ...body, quota_check_error: e.message } }]; }"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "id": "category_quota",
      "name": "ğŸ“Š ã‚«ãƒ†ã‚´ãƒªãƒ¼æ ç®¡ç†"
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.queued_for_night_shift }}",
              "value2": true
            }
          ]
        }
      },
      "id": "check-queued",
      "name": "ã‚­ãƒ¥ãƒ¼è»¢é€ï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify({ success: true, queued: true, queue_id: $json.queue_id }) }}",
        "options": {
          "responseCode": 202
        }
      },
      "id": "respond-queued",
      "name": "â° ã‚­ãƒ¥ãƒ¼è»¢é€å¿œç­”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "jsCode": "const apiUrl = $env.N3_API_URL;\nif (!apiUrl) return [{ json: { error: true, message: 'N3_API_URLæœªè¨­å®š', code: 'CONFIG_ERROR' } }];\nconst body = $input.first().json;\nif (body.error) return [{ json: body }];\nconst productId = body.product_id;\nif (!productId) return [{ json: { error: true, message: 'product_idå¿…é ˆ', code: 'MISSING_PARAM' } }];\nreturn [{ json: { product_id: productId, marketplace: body.marketplace || 'ebay', account: body.account || 'default', api_url: apiUrl, _scoped_token: body._scoped_token, _minimum_privilege: body._minimum_privilege } }];"
      },
      "id": "init",
      "name": "ğŸ” åˆæœŸåŒ–",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "parameters": {
        "conditions": {
          "conditions": [
            {
              "leftValue": "={{ $json.error }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "id": "check-error",
      "name": "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify({ success: false, error: $json.message }) }}",
        "options": {
          "responseCode": 400
        }
      },
      "id": "respond-error",
      "name": "ã‚¨ãƒ©ãƒ¼å¿œç­”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT pm.*, im.quantity, im.status as inv_status FROM products_master pm JOIN inventory_master im ON pm.id = im.product_id WHERE pm.id = $1",
        "options": {
          "queryParams": "={{ [$json.product_id] }}"
        }
      },
      "id": "get-product",
      "name": "ğŸ“¦ å•†å“å–å¾—",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const init = $node['ğŸ” åˆæœŸåŒ–'].json;\nconst product = $input.first().json;\nif (!product || !product.id) return [{ json: { ...init, error: true, message: 'å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' } }];\nif (product.inv_status === 'out_of_stock') return [{ json: { ...init, error: true, message: 'åœ¨åº«åˆ‡ã‚Œã®ãŸã‚å‡ºå“ä¸å¯' } }];\nreturn [{ json: { ...init, product, ready_to_list: true } }];"
      },
      "id": "validate-product",
      "name": "âœ… å•†å“æ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "parameters": {
        "conditions": {
          "conditions": [
            {
              "leftValue": "={{ $json.ready_to_list }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "id": "check-ready",
      "name": "å‡ºå“å¯ï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "jsCode": "const data = $input.first().json;\nconst mp = data.marketplace;\nconst webhookPaths = { ebay: '/webhook/v821-ebay-listing', qoo10: '/webhook/v821-qoo10-listing', shopify: '/webhook/v821-shopify-listing' };\nconst n8nBaseUrl = $env.N8N_BASE_URL || $env.N3_N8N_URL || 'http://localhost:5678';\nconst webhookPath = webhookPaths[mp] || webhookPaths.ebay;\nreturn [{ json: { ...data, target_url: n8nBaseUrl + webhookPath } }];"
      },
      "id": "route-marketplace",
      "name": "ğŸ”€ è²©è·¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.target_url }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ product_id: $json.product_id, account: $json.account, product_data: $json.product, scoped_token: $json._scoped_token }) }}",
        "options": {
          "timeout": 120000,
          "retry": {
            "attempts": 3,
            "delay": 1000,
            "backoff": "exponential"
          }
        }
      },
      "id": "call-listing-api",
      "name": "ğŸ“¤ å‡ºå“APIå‘¼å‡º",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "const result = $input.first().json;\nconst prevData = $node['ğŸ”€ è²©è·¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°'].json;\nconst success = result.success !== false && !result.error;\nconst listingId = result.listing_id || result.item_id;\n// ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼åˆ¤å®šï¼ˆæ¬¡å…ƒ12ï¼‰\nconst CRITICAL_ERRORS = ['240', '932', '17'];\nif (result.error_code && CRITICAL_ERRORS.includes(String(result.error_code))) {\n  return [{ json: { ...prevData, _circuit_breaker_triggered: true, error_code: result.error_code } }];\n}\nreturn [{ json: { ...prevData, listing_result: { success, listing_id: listingId, error: result.error, error_code: result.error_code } } }];"
      },
      "id": "process-result",
      "name": "ğŸ“‹ çµæœå‡¦ç† + ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ (æ¬¡å…ƒ12)",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json._circuit_breaker_triggered }}",
              "value2": true
            }
          ]
        }
      },
      "id": "check-circuit-breaker",
      "name": "ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.chatwork.com/v2/rooms/{{ $env.CHATWORK_ROOM_ID }}/messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-ChatWorkToken",
              "value": "={{ $env.CHATWORK_API_KEY }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ body: 'ğŸš¨ [ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ç™ºå‹•] å‡ºå“å®Ÿè¡Œåœæ­¢\\nã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰: ' + $json.error_code + '\\nå•†å“ID: ' + $json.product_id }) }}",
        "options": {
          "retry": {
            "attempts": 3,
            "delay": 1000,
            "backoff": "exponential"
          },
          "timeout": 30000
        }
      },
      "id": "notify-circuit-breaker",
      "name": "ğŸš¨ ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼é€šçŸ¥ (æ¬¡å…ƒ12)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "continueOnFail": true
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO ai_decision_traces (workflow_name, node_name, input_data, output_data, model_used, reasoning, created_at) VALUES ('listing-execute-v7-27dim', 'listing-result', $1::jsonb, $2::jsonb, 'n/a', 'å‡ºå“å®Ÿè¡Œçµæœ', NOW())",
        "options": {
          "queryParams": "={{ [JSON.stringify({product_id: $json.product_id}).substring(0, 500), JSON.stringify($json.listing_result || {circuit_breaker: true}).substring(0, 500)] }}"
        }
      },
      "id": "ai_trace",
      "name": "ğŸ“ AI Trace (æ¬¡å…ƒ13)",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO listing_execution_logs (product_id, marketplace, account, success, listing_id, error_code, error_message, log_hash, executed_at, timezone) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, NOW(), 'Asia/Tokyo')",
        "options": {
          "queryParams": "={{ [$json.product_id, $json.marketplace, $json.account, $json.listing_result?.success || false, $json.listing_result?.listing_id, $json.listing_result?.error_code || $json.error_code, $json.listing_result?.error, require('crypto').createHash('sha256').update(JSON.stringify($json) + Date.now()).digest('hex')] }}"
        }
      },
      "id": "forensic-log",
      "name": "ğŸ“ æ³•å»·è€æ€§ãƒ­ã‚° (æ¬¡å…ƒ26)",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "const d = $input.first().json;\nconst result = d.listing_result || {};\nreturn [{ json: { success: result.success || false, product_id: d.product_id, marketplace: d.marketplace, listing_id: result.listing_id, error: result.error, v7_27dim_features: { auth_verified: true, burn_limit_checked: true, policy_checked: true, minimum_privilege: true, circuit_breaker: true, ai_trace: true, forensic_log: true } } }];"
      },
      "id": "response",
      "name": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify($json) }}",
        "options": {
          "responseCode": "={{ $json.success ? 200 : 500 }}"
        }
      },
      "id": "respond-ok",
      "name": "ğŸ“¤ å¿œç­”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1
    }
  ],
  "connections": {
    "Webhook: listing-execute": {
      "main": [
        [
          {
            "node": "ğŸ” JIT+HMACæ¤œè¨¼ (æ¬¡å…ƒ3)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” JIT+HMACæ¤œè¨¼ (æ¬¡å…ƒ3)": {
      "main": [
        [
          {
            "node": "ğŸ”¥ ç‡ƒç„¼ä¸Šé™ãƒã‚§ãƒƒã‚¯ (æ¬¡å…ƒ22)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”¥ ç‡ƒç„¼ä¸Šé™ãƒã‚§ãƒƒã‚¯ (æ¬¡å…ƒ22)": {
      "main": [
        [
          {
            "node": "âš–ï¸ Policyæ¤œé–² (æ¬¡å…ƒ7)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âš–ï¸ Policyæ¤œé–² (æ¬¡å…ƒ7)": {
      "main": [
        [
          {
            "node": "ğŸ”‘ æœ€å°æ¨©é™ãƒˆãƒ¼ã‚¯ãƒ³ (æ¬¡å…ƒ17)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”‘ æœ€å°æ¨©é™ãƒˆãƒ¼ã‚¯ãƒ³ (æ¬¡å…ƒ17)": {
      "main": [
        [
          {
            "node": "ğŸ“Š ã‚«ãƒ†ã‚´ãƒªãƒ¼æ ç®¡ç†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“Š ã‚«ãƒ†ã‚´ãƒªãƒ¼æ ç®¡ç†": {
      "main": [
        [
          {
            "node": "ã‚­ãƒ¥ãƒ¼è»¢é€ï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚­ãƒ¥ãƒ¼è»¢é€ï¼Ÿ": {
      "main": [
        [
          {
            "node": "â° ã‚­ãƒ¥ãƒ¼è»¢é€å¿œç­”",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ” åˆæœŸåŒ–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” åˆæœŸåŒ–": {
      "main": [
        [
          {
            "node": "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯": {
      "main": [
        [
          {
            "node": "ã‚¨ãƒ©ãƒ¼å¿œç­”",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“¦ å•†å“å–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¦ å•†å“å–å¾—": {
      "main": [
        [
          {
            "node": "âœ… å•†å“æ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… å•†å“æ¤œè¨¼": {
      "main": [
        [
          {
            "node": "å‡ºå“å¯ï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‡ºå“å¯ï¼Ÿ": {
      "main": [
        [
          {
            "node": "ğŸ“ æ³•å»·è€æ€§ãƒ­ã‚° (æ¬¡å…ƒ26)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ”€ è²©è·¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ è²©è·¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°": {
      "main": [
        [
          {
            "node": "ğŸ“¤ å‡ºå“APIå‘¼å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¤ å‡ºå“APIå‘¼å‡º": {
      "main": [
        [
          {
            "node": "ğŸ“‹ çµæœå‡¦ç† + ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ (æ¬¡å…ƒ12)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ çµæœå‡¦ç† + ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ (æ¬¡å…ƒ12)": {
      "main": [
        [
          {
            "node": "ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ï¼Ÿ": {
      "main": [
        [
          {
            "node": "ğŸš¨ ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼é€šçŸ¥ (æ¬¡å…ƒ12)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“ AI Trace (æ¬¡å…ƒ13)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸš¨ ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼é€šçŸ¥ (æ¬¡å…ƒ12)": {
      "main": [
        [
          {
            "node": "ğŸ“ AI Trace (æ¬¡å…ƒ13)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“ AI Trace (æ¬¡å…ƒ13)": {
      "main": [
        [
          {
            "node": "ğŸ“ æ³•å»·è€æ€§ãƒ­ã‚° (æ¬¡å…ƒ26)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“ æ³•å»·è€æ€§ãƒ­ã‚° (æ¬¡å…ƒ26)": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹": {
      "main": [
        [
          {
            "node": "ğŸ“¤ å¿œç­”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionTimeout": 180,
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "none"
  },
  "tags": [
    {
      "name": "27DIM-FORTRESS",
      "color": "#dc143c"
    },
    {
      "name": "V7-ENHANCED",
      "color": "#00ff00"
    },
    {
      "name": "JIT-AUTH",
      "color": "#ffd700"
    },
    {
      "name": "BURN-LIMIT",
      "color": "#ff6347"
    },
    {
      "name": "POLICY-CHECK",
      "color": "#4169e1"
    },
    {
      "name": "MIN-PRIVILEGE",
      "color": "#9932cc"
    },
    {
      "name": "CIRCUIT-BREAKER",
      "color": "#ff4500"
    },
    {
      "name": "FORENSIC-LOG",
      "color": "#2f4f4f"
    },
    {
      "name": "CATEGORY-QUOTA",
      "color": "#9932cc"
    },
    {
      "name": "NIGHT-SHIFT-QUEUE",
      "color": "#4169e1"
    }
  ],
  "active": false,
  "_27dim_converted": true,
  "_27dim_version": "1.0.0",
  "_27dim_dimensions_implemented": [
    3,
    7,
    12,
    13,
    17,
    22,
    26
  ],
  "_special_features": [
    "JIT_HMAC_Auth_Dim3",
    "Burn_Limit_Strict_Dim22",
    "Policy_Check_Dim7",
    "Minimum_Privilege_Token_Dim17",
    "Circuit_Breaker_Dim12",
    "AI_Decision_Trace_Dim13",
    "Forensic_Logging_Dim26",
    "Category_Quota",
    "Night_Shift_Queue"
  ]
}