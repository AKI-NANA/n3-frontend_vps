{
  "name": "ã€å¸ä»¤å¡”ã€‘03_142-é˜²è¡›-ãƒ¢ãƒã‚¤ãƒ«ãƒ—ãƒ­ã‚­ã‚·ç®¡ç†-ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³-å¥å…¨æ€§ç›£è¦–_V5",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "proxy-manage",
        "options": {
          "responseMode": "responseNode"
        }
      },
      "name": "Webhook: proxy-manage",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "webhookId": "proxy-manage"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 30
            }
          ]
        }
      },
      "name": "â° 30åˆ†ã”ã¨ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "jsCode": "// ============================================================================\n// ãƒ¢ãƒã‚¤ãƒ«ãƒ—ãƒ­ã‚­ã‚·ç®¡ç† åˆæœŸåŒ–\n// ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯ã€å‰²ã‚Šå½“ã¦ç®¡ç†\n// ============================================================================\n\nconst body = $input.first().json.body || $input.first().json || {};\n\nconst action = body.action || 'rotate'; // 'rotate', 'health_check', 'assign', 'release', 'add'\nconst accountId = body.account_id;\nconst proxyId = body.proxy_id;\nconst countryCode = body.country_code || 'US';\n\n// æ–°è¦ãƒ—ãƒ­ã‚­ã‚·è¿½åŠ ç”¨\nconst newProxy = body.new_proxy; // { host, port, username, password, provider, country_code }\n\nreturn [{\n  json: {\n    action: action,\n    account_id: accountId,\n    proxy_id: proxyId,\n    country_code: countryCode,\n    new_proxy: newProxy,\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "name": "ğŸ”§ åˆæœŸåŒ–",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true
          },
          "conditions": [
            {
              "id": "rotate",
              "leftValue": "={{ $json.action }}",
              "rightValue": "rotate",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "name": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åˆ†å²",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "options": {
        "fallbackOutput": "none",
        "rules": [
          {
            "output": 0,
            "value": "rotate"
          },
          {
            "output": 1,
            "value": "health_check"
          },
          {
            "output": 2,
            "value": "assign"
          },
          {
            "output": 3,
            "value": "add"
          }
        ]
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT p.*, pa.google_email, pa.youtube_channel_id FROM mobile_proxy_pool p LEFT JOIN pva_accounts pa ON p.assigned_account_id = pa.id WHERE p.is_active = TRUE AND (p.last_rotated_at IS NULL OR p.last_rotated_at < NOW() - INTERVAL '30 minutes') ORDER BY p.last_rotated_at ASC NULLS FIRST LIMIT 20"
      },
      "name": "ğŸ“¥ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡å–å¾—",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ============================================================================\n// ãƒ—ãƒ­ã‚­ã‚·ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ\n// å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®APIå‘¼ã³å‡ºã—ã§IPã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥\n// ============================================================================\n\nconst proxies = $input.first().json || [];\n\nif (!Array.isArray(proxies) || proxies.length === 0) {\n  return [{ json: { action: 'rotate', rotated_count: 0, message: 'ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡ãªã—' } }];\n}\n\nconst rotationCommands = proxies.map(proxy => {\n  // ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ¥ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³API\n  let rotateUrl = null;\n  let rotateMethod = 'GET';\n  let rotateHeaders = {};\n  \n  switch (proxy.provider) {\n    case 'brightdata':\n      // BrightData: ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†ã§IPæ›´æ–°\n      rotateUrl = `https://api.brightdata.com/zone/sessions/${proxy.proxy_username}/refresh`;\n      rotateHeaders = { 'Authorization': `Bearer ${$env.BRIGHTDATA_API_KEY}` };\n      break;\n    case 'oxylabs':\n      rotateUrl = `https://residential.oxylabs.io/api/rotate?session=${proxy.proxy_username}`;\n      rotateHeaders = { 'Authorization': `Basic ${Buffer.from(proxy.proxy_username + ':' + proxy.proxy_password).toString('base64')}` };\n      break;\n    case 'smartproxy':\n      // SmartProxy: æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã§æ¥ç¶š\n      rotateUrl = null; // æ¥ç¶šæ™‚ã«è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\n      break;\n    default:\n      rotateUrl = null;\n  }\n  \n  return {\n    proxy_id: proxy.id,\n    provider: proxy.provider,\n    current_host: proxy.proxy_host,\n    rotate_url: rotateUrl,\n    rotate_method: rotateMethod,\n    rotate_headers: rotateHeaders,\n    assigned_account: proxy.google_email\n  };\n});\n\nreturn rotationCommands.filter(c => c.rotate_url).map(c => ({ json: c }));"
      },
      "name": "ğŸ”„ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "batchSize": 5,
        "options": {}
      },
      "name": "ğŸ“¦ ãƒãƒƒãƒå‡¦ç†",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "notes": "\n[PATCHER] WARNING: SplitInBatchesç›´å¾Œã«Waitãƒãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚APIåˆ¶é™ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚"
    },
    {
      "parameters": {
        "method": "={{ $json.rotate_method }}",
        "url": "={{ $json.rotate_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "={{ $json.rotate_headers.Authorization }}"
            }
          ]
        },
        "options": {
          "timeout": 30000,
          "retry": {
            "attempts": 3,
            "delay": 1000,
            "backoff": "exponential"
          }
        }
      },
      "name": "ğŸ”„ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³APIå‘¼ã³å‡ºã—",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "continueOnFail": true
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "UPDATE mobile_proxy_pool SET last_rotated_at = NOW(), total_requests = total_requests + 1 WHERE id = $1",
        "options": {
          "queryParams": "={{ [$json.proxy_id] }}"
        }
      },
      "name": "ğŸ’¾ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨˜éŒ²",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM mobile_proxy_pool WHERE is_active = TRUE ORDER BY last_used_at ASC"
      },
      "name": "ğŸ“¥ å…¨ãƒ—ãƒ­ã‚­ã‚·å–å¾—ï¼ˆå¥å…¨æ€§ï¼‰",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ============================================================================\n// ãƒ—ãƒ­ã‚­ã‚·å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯\n// å®Ÿéš›ã®IPç¢ºèªã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦ã€BANçŠ¶æ…‹ç¢ºèª\n// ============================================================================\n\nconst proxies = $input.first().json || [];\n\nif (!Array.isArray(proxies) || proxies.length === 0) {\n  return [{ json: { action: 'health_check', checked_count: 0, message: 'ãƒã‚§ãƒƒã‚¯å¯¾è±¡ãªã—' } }];\n}\n\nconst healthChecks = proxies.map(proxy => {\n  // ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã§IPç¢ºèªAPIã‚’å‘¼ã³å‡ºã™è¨­å®š\n  const proxyUrl = `http://${proxy.proxy_username}:${proxy.proxy_password}@${proxy.proxy_host}:${proxy.proxy_port}`;\n  \n  return {\n    proxy_id: proxy.id,\n    provider: proxy.provider,\n    proxy_url: proxyUrl,\n    country_code: proxy.country_code,\n    current_health_score: proxy.health_score,\n    check_url: 'https://api.ipify.org?format=json',\n    google_check_url: 'https://www.google.com/search?q=test' // Google BANç¢ºèª\n  };\n});\n\nreturn healthChecks.map(c => ({ json: c }));"
      },
      "name": "ğŸ¥ å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯æº–å‚™",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "method": "GET",
        "url": "={{ $json.check_url }}",
        "options": {
          "timeout": 15000,
          "proxy": "={{ $json.proxy_url }}",
          "retry": {
            "attempts": 3,
            "delay": 1000,
            "backoff": "exponential"
          }
        }
      },
      "name": "ğŸŒ IPç¢ºèªãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "// å¥å…¨æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—\nconst checkData = $node['ğŸ¥ å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯æº–å‚™'].json;\nconst ipResult = $input.first().json;\n\nlet healthScore = checkData.current_health_score || 100;\nlet status = 'healthy';\n\n// IPãŒå–å¾—ã§ããªã‹ã£ãŸå ´åˆ\nif (!ipResult.ip && !ipResult.origin) {\n  healthScore = Math.max(healthScore - 20, 0);\n  status = 'degraded';\n}\n\n// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ãŒé…ã„å ´åˆï¼ˆ5ç§’ä»¥ä¸Šï¼‰\nif (ipResult.response_time > 5000) {\n  healthScore = Math.max(healthScore - 10, 0);\n}\n\n// ã‚¨ãƒ©ãƒ¼ãŒã‚ã£ãŸå ´åˆ\nif (ipResult.error) {\n  healthScore = Math.max(healthScore - 30, 0);\n  status = 'error';\n}\n\nreturn [{\n  json: {\n    proxy_id: checkData.proxy_id,\n    new_health_score: healthScore,\n    detected_ip: ipResult.ip || ipResult.origin,\n    status: status,\n    response_time_ms: ipResult.response_time\n  }\n}];"
      },
      "name": "ğŸ“Š å¥å…¨æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "UPDATE mobile_proxy_pool SET health_score = $2, last_used_at = NOW() WHERE id = $1",
        "options": {
          "queryParams": "={{ [$json.proxy_id, $json.new_health_score] }}"
        }
      },
      "name": "ğŸ’¾ å¥å…¨æ€§ã‚¹ã‚³ã‚¢æ›´æ–°",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM mobile_proxy_pool WHERE is_active = TRUE AND assigned_account_id IS NULL AND health_score >= 70 AND country_code = $1 ORDER BY health_score DESC, last_used_at ASC LIMIT 1",
        "options": {
          "queryParams": "={{ [$json.country_code] }}"
        }
      },
      "name": "ğŸ“¥ åˆ©ç”¨å¯èƒ½ãƒ—ãƒ­ã‚­ã‚·æ¤œç´¢",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ãƒ—ãƒ­ã‚­ã‚·å‰²ã‚Šå½“ã¦\nconst config = $node['ğŸ”§ åˆæœŸåŒ–'].json;\nconst availableProxy = $input.first().json[0];\n\nif (!availableProxy) {\n  return [{ json: { success: false, error: 'åˆ©ç”¨å¯èƒ½ãªãƒ—ãƒ­ã‚­ã‚·ãŒã‚ã‚Šã¾ã›ã‚“', country_code: config.country_code } }];\n}\n\nreturn [{\n  json: {\n    success: true,\n    proxy_id: availableProxy.id,\n    account_id: config.account_id,\n    proxy_host: availableProxy.proxy_host,\n    proxy_port: availableProxy.proxy_port,\n    proxy_username: availableProxy.proxy_username,\n    proxy_password: availableProxy.proxy_password,\n    country_code: availableProxy.country_code,\n    health_score: availableProxy.health_score\n  }\n}];"
      },
      "name": "ğŸ“‹ å‰²ã‚Šå½“ã¦å‡¦ç†",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true
          },
          "conditions": [
            {
              "leftValue": "={{ $json.success }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "name": "å‰²ã‚Šå½“ã¦æˆåŠŸï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "UPDATE mobile_proxy_pool SET assigned_account_id = $2, last_used_at = NOW() WHERE id = $1",
        "options": {
          "queryParams": "={{ [$json.proxy_id, $json.account_id] }}"
        }
      },
      "name": "ğŸ’¾ å‰²ã‚Šå½“ã¦è¨˜éŒ²",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "UPDATE pva_accounts SET proxy_id = $2 WHERE id = $1",
        "options": {
          "queryParams": "={{ [$json.account_id, $json.proxy_id] }}"
        }
      },
      "name": "ğŸ’¾ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ—ãƒ­ã‚­ã‚·ç´ä»˜ã‘",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO mobile_proxy_pool (provider, proxy_host, proxy_port, proxy_username, proxy_password, country_code, connection_type, is_active) VALUES ($1, $2, $3, $4, $5, $6, $7, TRUE) RETURNING id",
        "options": {
          "queryParams": "={{ [$json.new_proxy?.provider || 'custom', $json.new_proxy?.host, $json.new_proxy?.port, $json.new_proxy?.username, $json.new_proxy?.password, $json.new_proxy?.country_code || 'US', $json.new_proxy?.connection_type || '4g'] }}"
        }
      },
      "name": "ğŸ’¾ æ–°è¦ãƒ—ãƒ­ã‚­ã‚·ç™»éŒ²",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "credentials": {
        "postgres": {
          "id": "postgres-supabase",
          "name": "Supabase Postgres"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// æœ€çµ‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ\nconst action = $node['ğŸ”§ åˆæœŸåŒ–'].json.action;\n\nlet result = { success: true, action: action };\n\nswitch (action) {\n  case 'rotate':\n    result.message = 'ãƒ—ãƒ­ã‚­ã‚·ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†';\n    break;\n  case 'health_check':\n    result.message = 'å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯å®Œäº†';\n    break;\n  case 'assign':\n    result = { ...$json, action: action };\n    break;\n  case 'add':\n    result.message = 'æ–°è¦ãƒ—ãƒ­ã‚­ã‚·è¿½åŠ å®Œäº†';\n    result.proxy_id = $json[0]?.id;\n    break;\n}\n\nreturn [{ json: result }];"
      },
      "name": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[PYTHON_MIGRATION_CANDIDATE]"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ JSON.stringify($json) }}",
        "options": {
          "responseCode": 200
        }
      },
      "name": "âœ… æˆåŠŸå¿œç­”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "jsCode": "// ğŸ” HMAC SHA256 ç½²åæ¤œè¨¼ (Empire OS v6)\nconst crypto = require('crypto');\n\nconst signature = $request.headers['x-n3-signature'] || $request.headers['X-N3-Signature'];\nconst timestamp = $request.headers['x-n3-timestamp'] || $request.headers['X-N3-Timestamp'];\nconst secret = $env.N8N_HMAC_SECRET;\n\nif (!secret) {\n  throw new Error('ğŸš« N8N_HMAC_SECRET ç’°å¢ƒå¤‰æ•°ãŒæœªè¨­å®šã§ã™');\n}\n\nif (!signature || !timestamp) {\n  throw new Error('ğŸš« ç½²åã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæ¬ è½ã—ã¦ã„ã¾ã™');\n}\n\n// ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯ (5åˆ†)\nconst now = Date.now();\nconst tsAge = now - parseInt(timestamp);\nif (tsAge > 300000 || tsAge < -30000) {\n  throw new Error('ğŸš« ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæœŸé™åˆ‡ã‚Œã¾ãŸã¯ä¸æ­£ã§ã™');\n}\n\n// HMACæ¤œè¨¼\nconst bodyString = JSON.stringify($json);\nconst computedHmac = crypto\n  .createHmac('sha256', secret)\n  .update(timestamp + '.' + bodyString)\n  .digest('hex');\n\nif (signature !== computedHmac) {\n  throw new Error('ğŸš« HMACç½²åæ¤œè¨¼å¤±æ•—: ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ');\n}\n\n// æ¤œè¨¼æˆåŠŸ - å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ãã®ã¾ã¾è¿”ã™\nreturn [{ json: $json }];"
      },
      "name": "ğŸ” HMACç½²åæ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "notes": "[EMPIRE_OS_V6] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åˆ¶æŒ¿å…¥"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{$env.SUPABASE_URL}}/rest/v1/execution_logs",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{$env.SUPABASE_ANON_KEY}}"
            },
            {
              "name": "Authorization",
              "value": "=Bearer {{$env.SUPABASE_SERVICE_ROLE_KEY}}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "Prefer",
              "value": "return=minimal"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"workflow_id\": \"{{$workflow.id}}\",\n  \"workflow_name\": \"{{$workflow.name}}\",\n  \"status\": \"success\",\n  \"execution_time_ms\": {{Date.now() - $execution.startedAt.getTime()}},\n  \"error_message\": null,\n  \"executed_at\": \"{{new Date().toISOString()}}\",\n  \"node_count\": {{$workflow.nodes.length}},\n  \"metadata\": {}\n}",
        "options": {
          "retry": {
            "attempts": 3,
            "delay": 1000,
            "backoff": "exponential"
          },
          "timeout": 30000
        }
      },
      "name": "ğŸ“Š å®Ÿè¡Œãƒ­ã‚°é€ä¿¡ (æˆåŠŸ)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "continueOnFail": true,
      "notes": "[EMPIRE_OS_V6] ä¸­å¤®ç›£è¦–ãƒ‘ãƒ«ã‚¹\n[PATCHER] WARNING: ã“ã®ãƒãƒ¼ãƒ‰ã¯ã©ã“ã«ã‚‚æ¥ç¶šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚å‰Šé™¤ã¾ãŸã¯æ¥ç¶šã—ã¦ãã ã•ã„ã€‚"
    }
  ],
  "connections": {
    "Webhook: proxy-manage": {
      "main": [
        [
          {
            "node": "ğŸ” HMACç½²åæ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â° 30åˆ†ã”ã¨ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³": {
      "main": [
        [
          {
            "node": "ğŸ”§ åˆæœŸåŒ–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”§ åˆæœŸåŒ–": {
      "main": [
        [
          {
            "node": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åˆ†å²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åˆ†å²": {
      "main": [
        [
          {
            "node": "ğŸ“¥ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡å–å¾—",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“¥ å…¨ãƒ—ãƒ­ã‚­ã‚·å–å¾—ï¼ˆå¥å…¨æ€§ï¼‰",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“¥ åˆ©ç”¨å¯èƒ½ãƒ—ãƒ­ã‚­ã‚·æ¤œç´¢",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ’¾ æ–°è¦ãƒ—ãƒ­ã‚­ã‚·ç™»éŒ²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¥ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡å–å¾—": {
      "main": [
        [
          {
            "node": "ğŸ”„ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”„ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "ğŸ“¦ ãƒãƒƒãƒå‡¦ç†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¦ ãƒãƒƒãƒå‡¦ç†": {
      "main": [
        [
          {
            "node": "ğŸ”„ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³APIå‘¼ã³å‡ºã—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”„ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³APIå‘¼ã³å‡ºã—": {
      "main": [
        [
          {
            "node": "ğŸ’¾ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨˜éŒ²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨˜éŒ²": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¥ å…¨ãƒ—ãƒ­ã‚­ã‚·å–å¾—ï¼ˆå¥å…¨æ€§ï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ¥ å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯æº–å‚™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¥ å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯æº–å‚™": {
      "main": [
        [
          {
            "node": "ğŸŒ IPç¢ºèªãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸŒ IPç¢ºèªãƒªã‚¯ã‚¨ã‚¹ãƒˆ": {
      "main": [
        [
          {
            "node": "ğŸ“Š å¥å…¨æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“Š å¥å…¨æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—": {
      "main": [
        [
          {
            "node": "ğŸ’¾ å¥å…¨æ€§ã‚¹ã‚³ã‚¢æ›´æ–°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ å¥å…¨æ€§ã‚¹ã‚³ã‚¢æ›´æ–°": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¥ åˆ©ç”¨å¯èƒ½ãƒ—ãƒ­ã‚­ã‚·æ¤œç´¢": {
      "main": [
        [
          {
            "node": "ğŸ“‹ å‰²ã‚Šå½“ã¦å‡¦ç†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ å‰²ã‚Šå½“ã¦å‡¦ç†": {
      "main": [
        [
          {
            "node": "å‰²ã‚Šå½“ã¦æˆåŠŸï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‰²ã‚Šå½“ã¦æˆåŠŸï¼Ÿ": {
      "main": [
        [
          {
            "node": "ğŸ’¾ å‰²ã‚Šå½“ã¦è¨˜éŒ²",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ å‰²ã‚Šå½“ã¦è¨˜éŒ²": {
      "main": [
        [
          {
            "node": "ğŸ’¾ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ—ãƒ­ã‚­ã‚·ç´ä»˜ã‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ—ãƒ­ã‚­ã‚·ç´ä»˜ã‘": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ æ–°è¦ãƒ—ãƒ­ã‚­ã‚·ç™»éŒ²": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "âœ… æˆåŠŸå¿œç­”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” HMACç½²åæ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ğŸ”§ åˆæœŸåŒ–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionTimeout": 600,
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all"
  },
  "tags": [
    {
      "name": "N3-Defense",
      "color": "#e74c3c"
    },
    {
      "name": "V5-PRODUCTION",
      "color": "#00ff00"
    },
    {
      "name": "Proxy",
      "color": "#9b59b6"
    },
    {
      "name": "Phase-14",
      "color": "#f39c12"
    },
    {
      "name": "Empire-OS-V6",
      "color": "#ff4500"
    }
  ],
  "active": false
}