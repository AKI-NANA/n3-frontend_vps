# ğŸ° N3 Empire OS - å®Œå…¨è‡ªå¾‹å‹ãƒ¡ãƒ‡ã‚£ã‚¢å¸å›½çµ±æ²»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«

## ğŸ“‹ å®Œæˆç‰©ãƒªã‚¹ãƒˆ

### âœ… n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ11å€‹ï¼‰

| ID | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å | ä¸»è¦æ©Ÿèƒ½ | å¸å›½ä»•æ§˜é©ç”¨çŠ¶æ³ |
|----|--------------|----------|---------------|
| N3-101 | æ ªå¼24æŒ‡æ¨™ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦– | 15åˆ†ã”ã¨24æŒ‡æ¨™è¨ˆç®—ãƒ»KJç›¸é–¢çµ±åˆ | âœ… æ·±å±¤çµ±åˆ / âœ… Sentinelé€£æº |
| N3-102 | KJæ³•åˆ†æã‚¨ãƒ³ã‚¸ãƒ³ | 6æ™‚é–“ã”ã¨ç›¸é–¢å›³è‡ªå‹•ç”Ÿæˆãƒ»ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚° | âœ… Pearsonç›¸é–¢ / âœ… YouTubeé‡è¤‡å›é¿ |
| N3-103 | Midjourneyè‡ªå‹•ç”Ÿæˆ | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆèŠ¸è¡“çš„ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ– | âœ… Chaos/Stylize/Seedä¹±æ•° |
| N3-104 | LTX-2å‹•ç”»ç”Ÿæˆ | KJçŸ¥è¦‹çµ±åˆå‹•ç”»ç”Ÿæˆ | âœ… æ ªåˆ†æãƒ†ãƒ¼ãƒåæ˜  |
| N3-105 | ElevenLabséŸ³å£°åˆæˆ | ãƒã‚¤ã‚ªãƒ¢ã‚¸ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | âœ… æ„Ÿæƒ…é€£å‹•ãƒ»æ¯ç¶™ãæŒ¿å…¥ |
| N3-106 | Remotionå‹•ç”»åˆæˆ | Reactç‰©ç†æ¼”ç®—åˆæˆ | âœ… Springæ¼”ç®—ãƒ»ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« |
| N3-107 | YouTubeè‡ªå‹•æŠ•ç¨¿ | BANå›é¿æŠ•ç¨¿ | âœ… ãƒ—ãƒ­ã‚­ã‚·åˆ†æ•£ãƒ»é…å»¶ãƒ©ãƒ³ãƒ€ãƒ åŒ– |
| N3-108 | ãƒ–ãƒ­ã‚°è‡ªå‹•æŠ•ç¨¿ | SEOæœ€é©åŒ–æŠ•ç¨¿ | âœ… KJç›¸é–¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰çµ±åˆ |
| N3-109 | é›»å­æ›¸ç±ç”Ÿæˆï¼ˆKDPï¼‰ | Vivliostyleè‡ªå‹•çµ„ç‰ˆ | âœ… Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæµç”¨ |
| N3-110 | LMSéå»å•ç”Ÿæˆ | å€‹åˆ¥æœ€é©åŒ–ã‚¯ã‚¤ã‚º | âœ… å¼±ç‚¹åˆ†æãƒ»é›£æ˜“åº¦èª¿æ•´ |
| N3-111 | SNSäºˆç´„æŠ•ç¨¿ | X/Instagramäºˆç´„ | âœ… æŠ•ç¨¿æ™‚é–“ãƒ©ãƒ³ãƒ€ãƒ åŒ– |

### âœ… OpenHands Sentinel Pythonå®Ÿè£…ï¼ˆ1å€‹ï¼‰

- **openhands_sentinel.py**: FastAPIè‡ªå·±ä¿®å¾©ã‚·ã‚¹ãƒ†ãƒ 
  - Claude Sonnet 4.5è‡ªå‹•è¨ºæ–­
  - ãƒ‘ãƒƒãƒã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
  - n8n APIé€£æº
  - ChatWorkç·Šæ€¥é€šçŸ¥

---

## ğŸ¯ å¸å›½ä»•æ§˜3ç‚¹ã®å®Ÿè£…ç¢ºèª

### 1. æ ªåˆ†æã¨ã®æ·±å±¤é€£æº âœ…
- **N3-101**: 24æŒ‡æ¨™è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ã«KJç›¸é–¢ã‚¹ã‚³ã‚¢çµ±åˆ
- **N3-102**: Pearsonç›¸é–¢ä¿‚æ•°è¨ˆç®—ãƒ»éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
- **N3-104**: LTX-2å‹•ç”»ç”Ÿæˆæ™‚ã«KJãƒŠãƒ©ãƒ†ã‚£ãƒ–ãƒ†ãƒ¼ãƒåæ˜ 
- **N3-108**: ãƒ–ãƒ­ã‚°SEOã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«KJé–¢é€£éŠ˜æŸ„æ´»ç”¨

### 2. YouTubeèŠ¸è¡“çš„ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ– âœ…
- **å…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: `style_id` + `binary_noise` å®Œå…¨è£…å‚™
- **N3-103**: Midjourney Chaos/Stylize/Seedå€¤ãƒ©ãƒ³ãƒ€ãƒ åŒ–
- **N3-105**: ElevenLabsæ¯ç¶™ããƒ»æ„Ÿæƒ…ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¯å¤‰
- **N3-106**: Remotionãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ãƒã‚¤ã‚ºãƒ»ç‰©ç†æ¼”ç®—

### 3. è‡ªå·±ä¿®å¾©å›è·¯ï¼ˆSentinelï¼‰ âœ…
- **å…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: ã‚¨ãƒ©ãƒ¼æ™‚Sentinelå ±å‘Šãƒ­ã‚¸ãƒƒã‚¯åŸ‹ã‚è¾¼ã¿æ¸ˆã¿
- **Sentinel**: Claude Sonnet 4.5ã«ã‚ˆã‚‹æ ¹æœ¬åŸå› è¨ºæ–­
- **Sentinel**: è‡ªå‹•ãƒ‘ãƒƒãƒã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»n8nå†å®Ÿè¡Œ

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### Step 1: n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```bash
# VPSã«SSHæ¥ç¶š
ssh ubuntu@160.16.120.186

# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç¢ºèª
cd ~/n8n-workflows-empire
ls -1 *.json

# n8nç®¡ç†ç”»é¢ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆå…¨11å€‹ï¼‰
# http://160.16.120.186:5678
# Workflows â†’ Import from File â†’ å„JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’é †æ¬¡ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
```

### Step 2: Sentinelèµ·å‹•

```bash
# Pythonä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install fastapi uvicorn anthropic pydantic aiohttp --break-system-packages

# Sentinelãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•
nohup python3 openhands_sentinel.py > sentinel.log 2>&1 &

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl http://localhost:8000/api/sentinel/health
```

### Step 3: ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆn8nå´ï¼‰

n8nç®¡ç†ç”»é¢ â†’ Settings â†’ Variables:

```
# Supabase
SUPABASE_URL=https://zdzfpucdyxdlavkgrvil.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIs...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIs...

# ChatWork
CHATWORK_API_KEY=622be56f0b1a42a2425a09130cf72347
CHATWORK_ROOM_ID=396363863

# Anthropic (Sentinelç”¨)
ANTHROPIC_API_KEY=sk-ant-...
```

### Step 4: å„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ActiveåŒ–

1. N3-101: æ ªå¼ç›£è¦– â†’ Active ON
2. N3-102: KJæ³•åˆ†æ â†’ Active ON
3. N3-103~111: Webhookå¾…æ©ŸçŠ¶æ…‹ï¼ˆæ‰‹å‹•å®Ÿè¡Œãƒ†ã‚¹ãƒˆå¾ŒActiveåŒ–ï¼‰

---

## ğŸ§ª å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆ1: æ ªå¼ç›£è¦–ï¼ˆN3-101ï¼‰

```bash
# 15åˆ†å¾…æ©Ÿã¾ãŸã¯æ‰‹å‹•å®Ÿè¡Œ
# n8nç®¡ç†ç”»é¢ â†’ N3-101 â†’ Execute Workflow

# Supabaseã§çµæœç¢ºèª
# stock_analysis_history ãƒ†ãƒ¼ãƒ–ãƒ«ã«æ–°è¦ãƒ¬ã‚³ãƒ¼ãƒ‰æŒ¿å…¥ç¢ºèª
```

### ãƒ†ã‚¹ãƒˆ2: KJæ³•åˆ†æï¼ˆN3-102ï¼‰

```bash
# 6æ™‚é–“å¾…æ©Ÿã¾ãŸã¯æ‰‹å‹•å®Ÿè¡Œ
# Executions â†’ æœ€æ–°å®Ÿè¡Œ â†’ Outputç¢ºèª

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# {
#   "clusters_identified": 3,
#   "narratives": [...],
#   "correlation_diagram": "graph TD\nC0[...]..."
# }
```

### ãƒ†ã‚¹ãƒˆ3: Sentinelè‡ªå·±ä¿®å¾©

```bash
# ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆé€ä¿¡ãƒ†ã‚¹ãƒˆ
curl -X POST http://localhost:8000/api/sentinel/report \
  -H "Content-Type: application/json" \
  -d '{
    "module": "TEST-MODULE",
    "blueprint": {"function": "test"},
    "error_context": {"error_message": "Test error"},
    "recovery_suggestions": ["retry", "check API key"]
  }'

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç¢ºèªï¼ˆè¨ºæ–­çµæœãƒ»ä¿®å¾©ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å«ã‚€ï¼‰
```

### ãƒ†ã‚¹ãƒˆ4: MidjourneyèŠ¸è¡“çš„ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–ï¼ˆN3-103ï¼‰

```bash
# WebhookçµŒç”±ãƒ†ã‚¹ãƒˆ
curl -X POST http://160.16.120.186:5678/webhook/midjourney \
  -H "Content-Type: application/json" \
  -d '{"base_prompt": "anime girl, cyberpunk"}'

# å‡ºåŠ›ç¢ºèªï¼ˆstyle_id, chaos, stylize, binary_noiseç”Ÿæˆç¢ºèªï¼‰
```

---

## ğŸ“Š ç›£è¦–ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### Sentinelãƒ­ã‚°ç¢ºèª

```bash
tail -f ~/n8n-workflows-empire/sentinel.log

# æœŸå¾…ã•ã‚Œã‚‹ãƒ­ã‚°:
# INFO:Sentinel:âœ… è¨ºæ–­å®Œäº†: api_rate_limit_exceeded
# INFO:Sentinel:ğŸ”§ ä¿®å¾©å®Ÿè¡Œ: restart on N3-101
```

### n8nå®Ÿè¡Œå±¥æ­´ç¢ºèª

n8nç®¡ç†ç”»é¢ â†’ Executions â†’ å„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æˆåŠŸ/å¤±æ•—ç¢ºèª

### Supabase DBç¢ºèª

- **stock_analysis_history**: æ ªå¼åˆ†æå±¥æ­´
- **kj_analysis_results**: KJæ³•åˆ†æçµæœ

---

## ğŸ¬ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆå®Ÿé‹ç”¨ã¸ï¼‰

1. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹ç¯‰**: Next.jsç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä½œæˆ
2. **Remotionæœ¬æ ¼å®Ÿè£…**: AWS Lambda Remotioné€£æº
3. **YouTube APIé€£æº**: å®Ÿéš›ã®å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰è‡ªå‹•åŒ–
4. **100chå±•é–‹**: AdsPowerãƒ—ãƒ­ã‚­ã‚·çµ±åˆãƒ»ãƒãƒ£ãƒ³ãƒãƒ«ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] Supabase RLSè¨­å®šå®Œäº†
- [ ] n8nç’°å¢ƒå¤‰æ•°æš—å·åŒ–ç¢ºèª
- [ ] Sentinel APIã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- [ ] ChatWorké€šçŸ¥ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®š

---

## ğŸ“ ç·Šæ€¥é€£çµ¡å…ˆ

- **ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚**: ChatWork Room ID 396363863ã¸è‡ªå‹•é€šçŸ¥
- **Sentineléšœå®³æ™‚**: `systemctl restart sentinel`ï¼ˆè¦systemdè¨­å®šï¼‰

---

**ğŸ å…¨11ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ + Sentinel Pythonå®Ÿè£… å®Œæˆï¼**

---

## ä»˜éŒ²: ã‚³ãƒ¼ãƒ‰è¨­è¨ˆå›³

### n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å…±é€šæ§‹é€ 

```
Webhook/Cron Trigger
  â†“
Data Fetch (Supabase/å¤–éƒ¨API)
  â†“
Code Node (JavaScript)
  â”œâ”€â”€ æ ªåˆ†ææ·±å±¤çµ±åˆãƒ­ã‚¸ãƒƒã‚¯
  â”œâ”€â”€ YouTubeèŠ¸è¡“çš„ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–å‡¦ç†
  â””â”€â”€ Sentinelè‡ªå·±ä¿®å¾©å›è·¯ï¼ˆtry-catch + fetchï¼‰
  â†“
Output (DBä¿å­˜/ChatWorké€šçŸ¥)
```

### Sentinelè¨ºæ–­ãƒ•ãƒ­ãƒ¼

```
n8nã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
  â†“
POST /api/sentinel/report
  â†“
Claude Sonnet 4.5è¨ºæ–­
  â†“
ä¿®å¾©æˆ¦ç•¥æ±ºå®š
  â”œâ”€â”€ restart (n8n APIå†å®Ÿè¡Œ)
  â”œâ”€â”€ patch (ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ä¿å­˜)
  â””â”€â”€ notify (ChatWorkç·Šæ€¥é€šçŸ¥)
  â†“
å®Ÿè¡Œçµæœè¿”å´
```

---

**ã“ã®è¨­è¨ˆå›³ãŒã‚ã‚Œã°ã€AIï¼ˆClaude/Geminiï¼‰ã«ã€Œç¶šãã‚’ä½œã£ã¦ã€ã¨æŒ‡ç¤ºã™ã‚‹ã ã‘ã§ã€ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå·±æ‹¡å¼µã—ã¾ã™ã€‚**
