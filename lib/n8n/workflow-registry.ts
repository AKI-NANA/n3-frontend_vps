// lib/n8n/workflow-registry.ts
// N3 Empire OS - ç¥çµŒç³»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ¬ã‚¸ã‚¹ãƒˆãƒª

export type WorkflowStatus = 'active' | 'partial' | 'planned' | 'deprecated';
export type WorkflowCategory = 'listing' | 'inventory' | 'research' | 'pricing' | 'orders' | 'shipping' | 'sync' | 'ai' | 'media' | 'translation' | 'defense' | 'command' | 'finance' | 'notification' | 'system' | 'module';
export type TechStack = 'n8n' | 'python' | 'typescript' | 'sql' | 'shell';
export type AIComponent = 'claude' | 'gemini' | 'gpt4' | 'elevenlabs' | 'midjourney' | 'whisper' | 'none';

export interface WorkflowNode {
  id: string; name: string; nameJp: string; description: string; category: WorkflowCategory; status: WorkflowStatus;
  techStack: TechStack[]; aiComponents: AIComponent[]; hasUI: boolean; hasAPI: boolean; hasDB: boolean;
  webhookPath?: string; n8nWorkflowId?: string; dependencies: string[]; triggers: string[];
  simpleExplain?: string; whenRuns?: string; whatHappens?: string; logic?: string;
  selfHealing?: boolean; autoApproval?: boolean; pythonScripts?: string[];
}

export interface PythonScript { id: string; name: string; description: string; }

export const CATEGORY_CONFIG: Record<WorkflowCategory, { icon: string; color: string; label: string }> = {
  listing: { icon: 'ğŸ“¦', color: '#10b981', label: 'å‡ºå“' },
  inventory: { icon: 'ğŸ“Š', color: '#3b82f6', label: 'åœ¨åº«' },
  research: { icon: 'ğŸ”', color: '#8b5cf6', label: 'ãƒªã‚µãƒ¼ãƒ' },
  pricing: { icon: 'ğŸ’°', color: '#f59e0b', label: 'ä¾¡æ ¼' },
  orders: { icon: 'ğŸ“‹', color: '#ec4899', label: 'æ³¨æ–‡' },
  shipping: { icon: 'ğŸšš', color: '#06b6d4', label: 'é…é€' },
  sync: { icon: 'ğŸ”„', color: '#6366f1', label: 'åŒæœŸ' },
  ai: { icon: 'ğŸ¤–', color: '#14b8a6', label: 'AI' },
  media: { icon: 'ğŸ¬', color: '#f97316', label: 'ãƒ¡ãƒ‡ã‚£ã‚¢' },
  translation: { icon: 'ğŸŒ', color: '#0ea5e9', label: 'ç¿»è¨³' },
  defense: { icon: 'ğŸ›¡ï¸', color: '#ef4444', label: 'é˜²è¡›' },
  command: { icon: 'ğŸ¯', color: '#a855f7', label: 'å¸ä»¤å¡”' },
  finance: { icon: 'ğŸ’µ', color: '#22c55e', label: 'è²¡å‹™' },
  notification: { icon: 'ğŸ””', color: '#eab308', label: 'é€šçŸ¥' },
  system: { icon: 'âš™ï¸', color: '#6b7280', label: 'ã‚·ã‚¹ãƒ†ãƒ ' },
  module: { icon: 'ğŸ§©', color: '#78716c', label: 'ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«' },
};

export const PYTHON_SCRIPTS: PythonScript[] = [
  { id: 'image-washer', name: 'image_washer.py', description: 'AIç”»åƒæŒ‡ç´‹æ¶ˆã—' },
  { id: 'pdf-parser', name: 'pdf_parser.py', description: 'PDFéå»å•æŠ½å‡º' },
  { id: 'lip-sync', name: 'lip_sync.py', description: 'ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ' },
  { id: 'competitor-scraper', name: 'competitor_scraper.py', description: 'ç«¶åˆã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°' },
  { id: 'hts-classifier', name: 'hts_classifier.py', description: 'HTSé–¢ç¨ã‚³ãƒ¼ãƒ‰åˆ†é¡' },
  { id: 'psa-grader', name: 'psa_grader.py', description: 'PSAã‚°ãƒ¬ãƒ¼ãƒ‰äºˆæ¸¬' },
  { id: 'video-render', name: 'video_render.py', description: 'å‹•ç”»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°' },
  { id: 'ocr-engine', name: 'ocr_engine.py', description: 'æ—¥æœ¬èªOCR' },
];

export const WORKFLOW_REGISTRY: WorkflowNode[] = [
  // === å‡ºå“ (listing) - 20ä»¶ ===
  { id: 'listing-reserve', name: 'listing-reserve', nameJp: 'ğŸ“¦ å‡ºå“äºˆç´„', description: 'é¸æŠå•†å“ã‚’eBay/Amazonã«å‡ºå“äºˆç´„', category: 'listing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-reserve', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: 'å•†å“ã‚’é¸ã‚“ã§å‡ºå“ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨eBayã«è‡ªå‹•ç™»éŒ²', selfHealing: true },
  { id: 'listing-batch', name: 'listing-batch', nameJp: 'ğŸ“¦ ãƒãƒƒãƒå‡ºå“', description: 'å¤§é‡å•†å“ã‚’ä¸€æ‹¬å‡ºå“', category: 'listing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-batch', dependencies: ['listing-reserve'], triggers: [], simpleExplain: '100ä»¶ä»¥ä¸Šã®å•†å“ã‚’ä¸€æ°—ã«å‡ºå“' },
  { id: 'listing-relist', name: 'listing-relist', nameJp: 'ğŸ” å†å‡ºå“', description: 'å£²ã‚Œãªã‹ã£ãŸå•†å“ã‚’è‡ªå‹•å†å‡ºå“', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-relist', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'å£²ã‚Œãªã‹ã£ãŸå•†å“ã‚’è‡ªå‹•ã§å†å‡ºå“', selfHealing: true, autoApproval: true },
  { id: 'listing-end', name: 'listing-end', nameJp: 'â¹ï¸ å‡ºå“çµ‚äº†', description: 'å•†å“ã®å‡ºå“ã‚’çµ‚äº†', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-end', dependencies: [], triggers: [], simpleExplain: 'å‡ºå“ã‚’ã‚„ã‚ãŸã„å•†å“ã‚’eBayã‹ã‚‰å–ã‚Šä¸‹ã’' },
  { id: 'listing-revise-price', name: 'listing-revise-price', nameJp: 'ğŸ’µ ä¾¡æ ¼å¤‰æ›´', description: 'å‡ºå“ä¸­å•†å“ã®ä¾¡æ ¼ã‚’å¤‰æ›´', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-revise-price', dependencies: [], triggers: ['pricing-dynamic'], simpleExplain: 'eBayã®å•†å“ã®å€¤æ®µã‚’å¤‰ãˆã‚‹' },
  { id: 'listing-revise-quantity', name: 'listing-revise-quantity', nameJp: 'ğŸ“Š æ•°é‡å¤‰æ›´', description: 'å‡ºå“ä¸­å•†å“ã®åœ¨åº«æ•°ã‚’å¤‰æ›´', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-revise-quantity', dependencies: [], triggers: ['inventory-sync-all'], simpleExplain: 'eBayã®åœ¨åº«æ•°ã‚’å¤‰ãˆã‚‹' },
  { id: 'listing-draft', name: 'listing-draft', nameJp: 'ğŸ“ ä¸‹æ›¸ãä¿å­˜', description: 'å‡ºå“å‰ã®ä¸‹æ›¸ãä¿å­˜', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-draft', dependencies: [], triggers: [], simpleExplain: 'å‡ºå“å‰ã«ã¨ã‚Šã‚ãˆãšä¿å­˜' },
  { id: 'listing-bulk-edit', name: 'listing-bulk-edit', nameJp: 'âœï¸ ä¸€æ‹¬ç·¨é›†', description: 'è¤‡æ•°å•†å“ã‚’ä¸€æ‹¬å¤‰æ›´', category: 'listing', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-bulk-edit', dependencies: [], triggers: [], simpleExplain: '100ä»¶ã®å•†å“ã‚’ã¾ã¨ã‚ã¦ç·¨é›†' },
  { id: 'listing-clone', name: 'listing-clone', nameJp: 'ğŸ“‹ å‡ºå“ã‚³ãƒ”ãƒ¼', description: 'æ—¢å­˜å‡ºå“ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ–°è¦ä½œæˆ', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-clone', dependencies: [], triggers: [], simpleExplain: 'ä¼¼ãŸå•†å“ã‚’å‡ºã™ã¨ãè¨­å®šã‚’ã‚³ãƒ”ãƒ¼' },
  { id: 'listing-template-apply', name: 'listing-template-apply', nameJp: 'ğŸ“‘ ãƒ†ãƒ³ãƒ—ãƒ¬é©ç”¨', description: 'å‡ºå“ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å•†å“ã«é©ç”¨', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-template', dependencies: [], triggers: [], simpleExplain: 'ãƒã‚±ã‚«ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’å½“ã¦ã‚‹' },
  { id: 'listing-schedule', name: 'listing-schedule', nameJp: 'â° å‡ºå“äºˆç´„ï¼ˆæ™‚é–“æŒ‡å®šï¼‰', description: 'æŒ‡å®šæ—¥æ™‚ã«å‡ºå“é–‹å§‹', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-schedule', dependencies: ['listing-reserve'], triggers: ['schedule-cron'], simpleExplain: 'æ—¥æ›œå¤œ9æ™‚ã«å‡ºå“é–‹å§‹ã‚’è¨­å®š' },
  { id: 'listing-category-suggest', name: 'listing-category-suggest', nameJp: 'ğŸ·ï¸ ã‚«ãƒ†ã‚´ãƒªææ¡ˆ', description: 'AI/APIã§eBayã‚«ãƒ†ã‚´ãƒªã‚’è‡ªå‹•ææ¡ˆ', category: 'listing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/listing-category', dependencies: [], triggers: [], simpleExplain: 'ã“ã‚Œä½•ã‚«ãƒ†ã‚´ãƒªï¼Ÿã‚’AIãŒæ•™ãˆã‚‹' },
  { id: 'listing-specifics-fill', name: 'listing-specifics-fill', nameJp: 'ğŸ“ Item Specificsè‡ªå‹•å…¥åŠ›', description: 'AIã§Item Specificsã‚’è‡ªå‹•åŸ‹ã‚', category: 'listing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude', 'gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-specifics', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'ãƒ–ãƒ©ãƒ³ãƒ‰/ã‚µã‚¤ã‚ºã‚’è‡ªå‹•ã§åŸ‹ã‚ã‚‹' },
  { id: 'listing-variation-create', name: 'listing-variation-create', nameJp: 'ğŸ¨ ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ', description: 'è‰²/ã‚µã‚¤ã‚ºé•ã„ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³å‡ºå“', category: 'listing', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-variation', dependencies: [], triggers: [], simpleExplain: 'èµ¤ãƒ»é’ãƒ»é»’ã®è‰²é•ã„ã‚’1å‡ºå“ã«ã¾ã¨ã‚ã‚‹' },
  { id: 'listing-amazon-sync', name: 'listing-amazon-sync', nameJp: 'ğŸ›’ AmazonåŒæ™‚å‡ºå“', description: 'eBayå‡ºå“ã‚’Amazonã«ã‚‚å±•é–‹', category: 'listing', status: 'planned', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: true, webhookPath: '/webhook/listing-amazon', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'eBayã«å‡ºã—ãŸã‚‰Amazonã«ã‚‚è‡ªå‹•å‡ºå“' },
  { id: 'listing-image-process', name: 'listing-image-process', nameJp: 'ğŸ–¼ï¸ ç”»åƒå‡¦ç†', description: 'å‡ºå“ç”»åƒã®ãƒªã‚µã‚¤ã‚º/èƒŒæ™¯é™¤å»', category: 'listing', status: 'active', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/listing-image', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'ç”»åƒã‚’å‡ºå“ç”¨ã«ã‚­ãƒ¬ã‚¤ã«åŠ å·¥', pythonScripts: ['image_washer.py'] },
  { id: 'listing-title-optimize', name: 'listing-title-optimize', nameJp: 'âœ¨ ã‚¿ã‚¤ãƒˆãƒ«æœ€é©åŒ–', description: 'AIã§SEOæœ€é©ãªã‚¿ã‚¤ãƒˆãƒ«ç”Ÿæˆ', category: 'listing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude', 'gemini'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/listing-title', dependencies: [], triggers: [], simpleExplain: 'AIãŒå£²ã‚Œã‚‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’è€ƒãˆã‚‹' },
  { id: 'listing-description-generate', name: 'listing-description-generate', nameJp: 'ğŸ“ èª¬æ˜æ–‡ç”Ÿæˆ', description: 'AIã§é­…åŠ›çš„ãªèª¬æ˜æ–‡ã‚’è‡ªå‹•ç”Ÿæˆ', category: 'listing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/listing-description', dependencies: [], triggers: [], simpleExplain: 'AIãŒå•†å“ã®èª¬æ˜æ–‡ã‚’æ›¸ã' },
  { id: 'listing-policy-assign', name: 'listing-policy-assign', nameJp: 'ğŸ“‹ ãƒãƒªã‚·ãƒ¼å‰²å½“', description: 'Business Policyã‚’å•†å“ã«è‡ªå‹•å‰²å½“', category: 'listing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/listing-policy', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'é…é€æ–¹æ³•ã‚„æ”¯æ‰•ã„æ–¹æ³•ã‚’è‡ªå‹•è¨­å®š' },
  { id: 'listing-mercari-sync', name: 'listing-mercari-sync', nameJp: 'ğŸ›ï¸ ãƒ¡ãƒ«ã‚«ãƒªåŒæ™‚å‡ºå“', description: 'ãƒ¡ãƒ«ã‚«ãƒªã«ã‚‚åŒæ™‚å‡ºå“', category: 'listing', status: 'planned', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: true, webhookPath: '/webhook/listing-mercari', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'eBayã«å‡ºã—ãŸã‚‰ãƒ¡ãƒ«ã‚«ãƒªã«ã‚‚è‡ªå‹•å‡ºå“' },

  // === åœ¨åº« (inventory) - 15ä»¶ ===
  { id: 'inventory-sync-all', name: 'inventory-sync-all', nameJp: 'ğŸ”„ å…¨åœ¨åº«åŒæœŸ', description: 'å…¨ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã®åœ¨åº«ã‚’ä¸€æ‹¬åŒæœŸ', category: 'inventory', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-sync', dependencies: ['listing-revise-quantity'], triggers: ['schedule-cron'], simpleExplain: 'eBay/Amazon/å…¨éƒ¨ã®åœ¨åº«æ•°ã‚’æƒãˆã‚‹', selfHealing: true },
  { id: 'inventory-monitoring', name: 'inventory-monitoring', nameJp: 'ğŸ‘ï¸ åœ¨åº«ç›£è¦–', description: 'ä»•å…¥å…ˆã®åœ¨åº«çŠ¶æ³ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ç›£è¦–', category: 'inventory', status: 'active', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-monitoring', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: 'ä»•å…¥å…ˆã‚µã‚¤ãƒˆã‚’è¦‹å¼µã£ã¦å£²ã‚Šåˆ‡ã‚Œã‚’æ¤œçŸ¥', pythonScripts: ['competitor_scraper.py'], selfHealing: true },
  { id: 'inventory-check-stock', name: 'inventory-check-stock', nameJp: 'ğŸ” åœ¨åº«ç¢ºèª', description: 'é¸æŠå•†å“ã®åœ¨åº«çŠ¶æ³ã‚’å³æ™‚ç¢ºèª', category: 'inventory', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-check', dependencies: [], triggers: [], simpleExplain: 'ä»Šã™ãåœ¨åº«ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯' },
  { id: 'inventory-alert-low', name: 'inventory-alert-low', nameJp: 'âš ï¸ åœ¨åº«å°‘ã‚¢ãƒ©ãƒ¼ãƒˆ', description: 'åœ¨åº«ãŒé–¾å€¤ä»¥ä¸‹ã«ãªã£ãŸã‚‰é€šçŸ¥', category: 'inventory', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-alert', dependencies: ['notify-chatwork'], triggers: ['inventory-monitoring'], simpleExplain: 'åœ¨åº«æ®‹ã‚Š3å€‹ï¼ã¿ãŸã„ãªé€šçŸ¥ãŒæ¥ã‚‹', autoApproval: true },
  { id: 'inventory-auto-delist', name: 'inventory-auto-delist', nameJp: 'ğŸš« è‡ªå‹•å–ã‚Šä¸‹ã’', description: 'åœ¨åº«åˆ‡ã‚Œå•†å“ã‚’è‡ªå‹•ã§å‡ºå“åœæ­¢', category: 'inventory', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-delist', dependencies: ['listing-end'], triggers: ['inventory-monitoring'], simpleExplain: 'åœ¨åº«0ã«ãªã£ãŸã‚‰è‡ªå‹•ã§å‡ºå“ã‚’æ­¢ã‚ã‚‹', autoApproval: true, selfHealing: true },
  { id: 'inventory-auto-relist', name: 'inventory-auto-relist', nameJp: 'â™»ï¸ è‡ªå‹•å†å‡ºå“', description: 'åœ¨åº«å¾©æ´»ã—ãŸå•†å“ã‚’è‡ªå‹•å†å‡ºå“', category: 'inventory', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-auto-relist', dependencies: ['listing-reserve'], triggers: ['inventory-monitoring'], simpleExplain: 'åœ¨åº«ãŒæˆ»ã£ãŸã‚‰è‡ªå‹•ã§å†å‡ºå“', autoApproval: true },
  { id: 'inventory-bundle-adjust', name: 'inventory-bundle-adjust', nameJp: 'ğŸ“¦ ãƒãƒ³ãƒ‰ãƒ«åœ¨åº«èª¿æ•´', description: 'ã‚»ãƒƒãƒˆå•†å“å£²ã‚ŒãŸã‚‰å˜å“åœ¨åº«ã‚‚æ¸›ã‚‰ã™', category: 'inventory', status: 'partial', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-bundle', dependencies: [], triggers: ['orders-new'], simpleExplain: '3æšã‚»ãƒƒãƒˆãŒå£²ã‚ŒãŸã‚‰å˜å“åœ¨åº«ã‚‚3å€‹æ¸›ã‚‹' },
  { id: 'inventory-location-track', name: 'inventory-location-track', nameJp: 'ğŸ“ ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¿½è·¡', description: 'å€‰åº«å†…ã®ã©ã“ã«å•†å“ãŒã‚ã‚‹ã‹ç®¡ç†', category: 'inventory', status: 'partial', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-location', dependencies: [], triggers: [], simpleExplain: 'ã“ã®å•†å“ã¯æ£šAã®3æ®µç›®ã¿ãŸã„ãªå ´æ‰€ã‚’è¨˜éŒ²' },
  { id: 'inventory-reorder-suggest', name: 'inventory-reorder-suggest', nameJp: 'ğŸ›’ ç™ºæ³¨ææ¡ˆ', description: 'åœ¨åº«å°‘ã®å•†å“ã‚’ç™ºæ³¨ææ¡ˆ', category: 'inventory', status: 'planned', techStack: ['n8n'], aiComponents: ['gemini'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-reorder', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: 'ã“ã®å•†å“ãã‚ãã‚ç™ºæ³¨ã—ã¦ã¯ï¼Ÿã¨æ•™ãˆã‚‹' },
  { id: 'inventory-cost-update', name: 'inventory-cost-update', nameJp: 'ğŸ’° åŸä¾¡æ›´æ–°', description: 'ä»•å…¥åŸä¾¡ã®æ›´æ–°ã¨åˆ©ç›Šå†è¨ˆç®—', category: 'inventory', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-cost', dependencies: ['pricing-profit-calc'], triggers: [], simpleExplain: 'ä»•å…¥ã‚Œå€¤ãŒå¤‰ã‚ã£ãŸã¨ãã€åˆ©ç›Šã‚‚å†è¨ˆç®—' },
  { id: 'inventory-import-csv', name: 'inventory-import-csv', nameJp: 'ğŸ“¥ CSVä¸€æ‹¬ç™»éŒ²', description: 'CSVãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åœ¨åº«ã‚’ä¸€æ‹¬ç™»éŒ²', category: 'inventory', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-import', dependencies: [], triggers: [], simpleExplain: 'Excelã§ä½œã£ãŸå•†å“ãƒªã‚¹ãƒˆã‚’ä¸€æ‹¬ç™»éŒ²' },
  { id: 'inventory-export-csv', name: 'inventory-export-csv', nameJp: 'ğŸ“¤ CSVå‡ºåŠ›', description: 'åœ¨åº«ä¸€è¦§ã‚’CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ', category: 'inventory', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-export', dependencies: [], triggers: [], simpleExplain: 'åœ¨åº«ãƒªã‚¹ãƒˆã‚’Excelç”¨ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰' },
  { id: 'inventory-dead-stock', name: 'inventory-dead-stock', nameJp: 'ğŸ’€ ãƒ‡ãƒƒãƒ‰ã‚¹ãƒˆãƒƒã‚¯æ¤œå‡º', description: 'é•·æœŸé–“å£²ã‚Œãªã„å•†å“ã‚’æ¤œå‡º', category: 'inventory', status: 'partial', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-dead', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: '90æ—¥ä»¥ä¸Šå£²ã‚Œã¦ãªã„å•†å“ã‚’è¦‹ã¤ã‘ã‚‹' },
  { id: 'inventory-audit', name: 'inventory-audit', nameJp: 'ğŸ“‹ æ£šå¸ã—', description: 'å®Ÿåœ¨åº«ã¨ã‚·ã‚¹ãƒ†ãƒ åœ¨åº«ã®ç…§åˆ', category: 'inventory', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/inventory-audit', dependencies: [], triggers: [], simpleExplain: 'å®Ÿéš›ã®åœ¨åº«ã¨ã‚·ã‚¹ãƒ†ãƒ ã®æ•°ãŒåˆã£ã¦ã‚‹ã‹ãƒã‚§ãƒƒã‚¯' },

  // === ä¾¡æ ¼ (pricing) - 12ä»¶ ===
  { id: 'pricing-profit-calc', name: 'pricing-profit-calc', nameJp: 'ğŸ’° åˆ©ç›Šè¨ˆç®—', description: 'è²©å£²ä¾¡æ ¼ã‹ã‚‰åˆ©ç›Šã‚’è‡ªå‹•è¨ˆç®—', category: 'pricing', status: 'active', techStack: ['n8n', 'typescript', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-profit', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'å£²å€¤ã‚’å…¥ã‚Œã‚‹ã¨ã„ãã‚‰å„²ã‹ã‚‹ã‹è‡ªå‹•è¨ˆç®—', logic: 'å£²ä¾¡ - åŸä¾¡ - æ‰‹æ•°æ–™ - é€æ–™ = åˆ©ç›Š' },
  { id: 'pricing-fee-calc', name: 'pricing-fee-calc', nameJp: 'ğŸ“Š æ‰‹æ•°æ–™è¨ˆç®—', description: 'eBay/PayPal/ãã®ä»–ã®æ‰‹æ•°æ–™ã‚’è¨ˆç®—', category: 'pricing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/pricing-fee', dependencies: [], triggers: ['pricing-profit-calc'], simpleExplain: 'eBayã¨PayPalã«å–ã‚‰ã‚Œã‚‹æ‰‹æ•°æ–™ã‚’è¨ˆç®—' },
  { id: 'pricing-shipping-calc', name: 'pricing-shipping-calc', nameJp: 'ğŸšš é€æ–™è¨ˆç®—', description: 'é‡é‡/ã‚µã‚¤ã‚ºã‹ã‚‰é€æ–™ã‚’è‡ªå‹•è¨ˆç®—', category: 'pricing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-shipping', dependencies: [], triggers: ['pricing-profit-calc'], simpleExplain: 'é‡ã•ã¨ã‚µã‚¤ã‚ºã‹ã‚‰é€æ–™ã‚’è¨ˆç®—' },
  { id: 'pricing-tariff-calc', name: 'pricing-tariff-calc', nameJp: 'ğŸ›ï¸ é–¢ç¨è¨ˆç®—', description: 'HTSã‚³ãƒ¼ãƒ‰ã‹ã‚‰é–¢ç¨ã‚’è¨ˆç®—', category: 'pricing', status: 'active', techStack: ['n8n', 'python'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-tariff', dependencies: [], triggers: [], simpleExplain: 'ã‚¢ãƒ¡ãƒªã‚«ã«é€ã‚‹ã¨ãé–¢ç¨ãŒã„ãã‚‰ã‹ã‹ã‚‹ã‹è¨ˆç®—', pythonScripts: ['hts_classifier.py'] },
  { id: 'pricing-dynamic', name: 'pricing-dynamic', nameJp: 'ğŸ“ˆ å‹•çš„ä¾¡æ ¼èª¿æ•´', description: 'éœ€è¦/åœ¨åº«ã«å¿œã˜ã¦ä¾¡æ ¼ã‚’è‡ªå‹•èª¿æ•´', category: 'pricing', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-dynamic', dependencies: ['listing-revise-price'], triggers: ['schedule-cron'], simpleExplain: 'å£²ã‚Œè¡Œãã«å¿œã˜ã¦è‡ªå‹•ã§å€¤æ®µã‚’ä¸Šã’ä¸‹ã’' },
  { id: 'pricing-competitor', name: 'pricing-competitor', nameJp: 'ğŸ” ç«¶åˆä¾¡æ ¼è¿½è·¡', description: 'ç«¶åˆã®ä¾¡æ ¼ã‚’ç›£è¦–ã—ã¦è‡ªå‹•è¿½å¾“', category: 'pricing', status: 'partial', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-competitor', dependencies: ['listing-revise-price'], triggers: ['schedule-cron'], simpleExplain: 'ãƒ©ã‚¤ãƒãƒ«ã®å€¤æ®µã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦è‡ªå‹•ã§å¯¾æŠ—', pythonScripts: ['competitor_scraper.py'] },
  { id: 'pricing-min-profit-guard', name: 'pricing-min-profit-guard', nameJp: 'ğŸ›¡ï¸ æœ€ä½åˆ©ç›Šä¿è¨¼', description: 'èµ¤å­—ã«ãªã‚‹ä¾¡æ ¼è¨­å®šã‚’é˜²æ­¢', category: 'pricing', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-guard', dependencies: [], triggers: ['listing-reserve', 'pricing-dynamic'], simpleExplain: 'çµ¶å¯¾ã«èµ¤å­—ã«ãªã‚‰ãªã„ã‚ˆã†ã«ã‚¹ãƒˆãƒƒãƒ‘ãƒ¼', selfHealing: true },
  { id: 'pricing-currency-convert', name: 'pricing-currency-convert', nameJp: 'ğŸ’± ç‚ºæ›¿æ›ç®—', description: 'å††/ãƒ‰ãƒ«/ãƒ¦ãƒ¼ãƒ­ã‚’è‡ªå‹•æ›ç®—', category: 'pricing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/pricing-currency', dependencies: [], triggers: ['pricing-profit-calc'], simpleExplain: 'ä»Šã®ãƒ¬ãƒ¼ãƒˆã§ãƒ‰ãƒ«â†’å††ã‚’è¨ˆç®—' },
  { id: 'pricing-bulk-update', name: 'pricing-bulk-update', nameJp: 'ğŸ’µ ä¸€æ‹¬ä¾¡æ ¼å¤‰æ›´', description: 'è¤‡æ•°å•†å“ã®ä¾¡æ ¼ã‚’ä¸€æ‹¬ã§å¤‰æ›´', category: 'pricing', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-bulk', dependencies: ['listing-revise-price'], triggers: [], simpleExplain: '100ä»¶ã®å•†å“ã‚’ä¸€æ°—ã«10%å€¤ä¸Šã’ã¨ã‹' },
  { id: 'pricing-promotion', name: 'pricing-promotion', nameJp: 'ğŸ ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ä¾¡æ ¼', description: 'ã‚»ãƒ¼ãƒ«ä¾¡æ ¼ã‚’è¨­å®š', category: 'pricing', status: 'partial', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-promo', dependencies: [], triggers: [], simpleExplain: 'æœŸé–“é™å®šã‚»ãƒ¼ãƒ«ä¾¡æ ¼ã‚’è¨­å®š' },
  { id: 'pricing-history', name: 'pricing-history', nameJp: 'ğŸ“Š ä¾¡æ ¼å±¥æ­´', description: 'ä¾¡æ ¼å¤‰æ›´ã®å±¥æ­´ã‚’è¨˜éŒ²', category: 'pricing', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-history', dependencies: [], triggers: ['listing-revise-price'], simpleExplain: 'ã„ã¤ã€ã„ãã‚‰ã«å¤‰ãˆãŸã‹è¨˜éŒ²' },
  { id: 'pricing-margin-report', name: 'pricing-margin-report', nameJp: 'ğŸ“ˆ åˆ©ç›Šç‡ãƒ¬ãƒãƒ¼ãƒˆ', description: 'å•†å“ã”ã¨ã®åˆ©ç›Šç‡ã‚’åˆ†æ', category: 'pricing', status: 'partial', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/pricing-margin', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'å„å•†å“ã®åˆ©ç›Šç‡ã‚’ä¸€è¦§ã§è¦‹ã‚‹' },

  // === AI (ai) - 12ä»¶ ===
  { id: 'ai-enrich-product', name: 'ai-enrich-product', nameJp: 'ğŸ¤– AIå•†å“æ‹¡å……', description: 'AIã§å•†å“æƒ…å ±ã‚’è‡ªå‹•è£œå®Œãƒ»æ‹¡å……', category: 'ai', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude', 'gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-enrich', dependencies: [], triggers: [], simpleExplain: 'ç”»åƒã¨å•†å“åã‹ã‚‰ã€AIãŒè©³ã—ã„æƒ…å ±ã‚’è£œå®Œ', logic: 'ç”»åƒ + ã‚¿ã‚¤ãƒˆãƒ« â†’ Geminiåˆ†æ â†’ Claudeæ§‹é€ åŒ–' },
  { id: 'ai-image-analysis', name: 'ai-image-analysis', nameJp: 'ğŸ‘ï¸ AIç”»åƒåˆ†æ', description: 'å•†å“ç”»åƒã‹ã‚‰ç‰¹å¾´ã‚’æŠ½å‡º', category: 'ai', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/ai-image', dependencies: [], triggers: ['ai-enrich-product'], simpleExplain: 'ç”»åƒã‚’è¦‹ã¦ã€Œã“ã‚Œã¯é’ã„é™¶å™¨ã®èŠ±ç“¶ã€ã¨ã‹åˆ¤å®š' },
  { id: 'ai-condition-grade', name: 'ai-condition-grade', nameJp: 'ğŸ“Š ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³åˆ¤å®š', description: 'AIã§å•†å“çŠ¶æ…‹ã‚’ã‚°ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°', category: 'ai', status: 'active', techStack: ['n8n', 'python'], aiComponents: ['claude', 'gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-condition', dependencies: [], triggers: [], simpleExplain: 'å†™çœŸã‚’è¦‹ã¦ã€Œã“ã‚Œã¯Near Mintã€ã¨ã‹ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’ã¤ã‘ã‚‹', pythonScripts: ['psa_grader.py'] },
  { id: 'ai-psa-predict', name: 'ai-psa-predict', nameJp: 'ğŸ´ PSAã‚°ãƒ¬ãƒ¼ãƒ‰äºˆæ¸¬', description: 'ã‚«ãƒ¼ãƒ‰å†™çœŸã‹ã‚‰PSAã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’äºˆæ¸¬', category: 'ai', status: 'partial', techStack: ['n8n', 'python'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-psa', dependencies: [], triggers: [], simpleExplain: 'ãƒã‚±ãƒ¢ãƒ³ã‚«ãƒ¼ãƒ‰ã®å†™çœŸã‹ã‚‰PSAä½•ç‚¹ã‹äºˆæ¸¬', pythonScripts: ['psa_grader.py'] },
  { id: 'ai-translate-listing', name: 'ai-translate-listing', nameJp: 'ğŸŒ AIç¿»è¨³', description: 'å•†å“æƒ…å ±ã‚’å¤šè¨€èªç¿»è¨³', category: 'ai', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-translate', dependencies: [], triggers: [], simpleExplain: 'æ—¥æœ¬èªã®å•†å“èª¬æ˜ã‚’è‹±èªã«è‡ªå‹•ç¿»è¨³' },
  { id: 'ai-inquiry-response', name: 'ai-inquiry-response', nameJp: 'ğŸ’¬ AIå•ã„åˆã‚ã›å¯¾å¿œ', description: 'ãƒã‚¤ãƒ¤ãƒ¼ã‹ã‚‰ã®å•ã„åˆã‚ã›ã«AIãŒå›ç­”æ¡ˆã‚’ç”Ÿæˆ', category: 'ai', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-inquiry', dependencies: ['notify-chatwork'], triggers: [], simpleExplain: 'ãƒã‚¤ãƒ¤ãƒ¼ã‹ã‚‰ã®è³ªå•ã«AIãŒè¿”ä¿¡æ¡ˆã‚’ä½œã‚‹', autoApproval: false },
  { id: 'ai-voice-generate', name: 'ai-voice-generate', nameJp: 'ğŸ™ï¸ AIéŸ³å£°ç”Ÿæˆ', description: 'ElevenLabsã§éŸ³å£°ã‚’ç”Ÿæˆ', category: 'ai', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['elevenlabs'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-voice', dependencies: [], triggers: [], simpleExplain: 'ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰äººé–“ã£ã½ã„éŸ³å£°ã‚’ç”Ÿæˆ' },
  { id: 'ai-script-generate', name: 'ai-script-generate', nameJp: 'ğŸ“œ å°æœ¬ç”Ÿæˆ', description: 'å‹•ç”»ç”¨ã®å°æœ¬ã‚’AIãŒç”Ÿæˆ', category: 'ai', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['claude', 'gpt4'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-script', dependencies: [], triggers: [], simpleExplain: 'YouTubeå‹•ç”»ç”¨ã®å°æœ¬ã‚’AIãŒæ›¸ã' },
  { id: 'ai-thumbnail-generate', name: 'ai-thumbnail-generate', nameJp: 'ğŸ–¼ï¸ AIã‚µãƒ ãƒç”Ÿæˆ', description: 'Midjourneyã§ã‚µãƒ ãƒã‚¤ãƒ«ã‚’ç”Ÿæˆ', category: 'ai', status: 'partial', techStack: ['n8n', 'python'], aiComponents: ['midjourney'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-thumbnail', dependencies: [], triggers: [], simpleExplain: 'AIãŒç›®ã‚’å¼•ãã‚µãƒ ãƒã‚¤ãƒ«ã‚’ä½œã‚‹', pythonScripts: ['image_washer.py'] },
  { id: 'ai-price-suggest', name: 'ai-price-suggest', nameJp: 'ğŸ’¡ AIä¾¡æ ¼ææ¡ˆ', description: 'AIãŒæœ€é©ãªè²©å£²ä¾¡æ ¼ã‚’ææ¡ˆ', category: 'ai', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-price', dependencies: [], triggers: [], simpleExplain: 'ã“ã®å•†å“ã„ãã‚‰ã§å£²ã‚Œãã†ï¼Ÿã‚’AIãŒææ¡ˆ' },
  { id: 'ai-keyword-extract', name: 'ai-keyword-extract', nameJp: 'ğŸ”‘ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º', description: 'AIãŒSEOã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡º', category: 'ai', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/ai-keyword', dependencies: [], triggers: [], simpleExplain: 'å•†å“èª¬æ˜ã‹ã‚‰æ¤œç´¢ã«å¼·ã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡º' },
  { id: 'ai-fact-check', name: 'ai-fact-check', nameJp: 'âœ… ãƒ•ã‚¡ã‚¯ãƒˆãƒã‚§ãƒƒã‚¯', description: 'ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®äº‹å®Ÿç¢ºèª', category: 'ai', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['claude', 'gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/ai-fact', dependencies: [], triggers: [], simpleExplain: 'AIãŒæ›¸ã„ãŸå†…å®¹ãŒæ­£ã—ã„ã‹ãƒ€ãƒ–ãƒ«ãƒã‚§ãƒƒã‚¯' },

  // === ãƒªã‚µãƒ¼ãƒ (research) - 10ä»¶ ===
  { id: 'research-competitor', name: 'research-competitor', nameJp: 'ğŸ” ç«¶åˆåˆ†æ', description: 'ç«¶åˆã‚»ãƒ©ãƒ¼ã®å‡ºå“ã‚’åˆ†æ', category: 'research', status: 'active', techStack: ['n8n', 'python'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-competitor', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'ãƒ©ã‚¤ãƒãƒ«ãŒã©ã‚“ãªå•†å“ã‚’ã„ãã‚‰ã§å£²ã£ã¦ã‚‹ã‹åˆ†æ', pythonScripts: ['competitor_scraper.py'] },
  { id: 'research-sold-analysis', name: 'research-sold-analysis', nameJp: 'ğŸ“Š å£²ã‚Œç­‹åˆ†æ', description: 'eBay Sold Listingsã‚’åˆ†æ', category: 'research', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-sold', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'æœ€è¿‘ä½•ãŒå£²ã‚Œã¦ã‚‹ã‹åˆ†æ' },
  { id: 'research-profit-opportunity', name: 'research-profit-opportunity', nameJp: 'ğŸ’° åˆ©ã–ã‚„å•†å“ç™ºè¦‹', description: 'ä»•å…¥ã‚Œä¾¡æ ¼ã¨è²©å£²ä¾¡æ ¼ã®å·®ãŒå¤§ãã„å•†å“ã‚’ç™ºè¦‹', category: 'research', status: 'planned', techStack: ['n8n', 'python'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-profit', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'å®‰ãä»•å…¥ã‚Œã¦é«˜ãå£²ã‚Œã‚‹å•†å“ã‚’è‡ªå‹•ã§è¦‹ã¤ã‘ã‚‹' },
  { id: 'research-trend', name: 'research-trend', nameJp: 'ğŸ“ˆ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ', description: 'å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’åˆ†æ', category: 'research', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-trend', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'ä»Šä½•ãŒæµè¡Œã£ã¦ã‚‹ã‹ã‚’åˆ†æ' },
  { id: 'research-price-history', name: 'research-price-history', nameJp: 'ğŸ“‰ ç›¸å ´å±¥æ­´', description: 'å•†å“ã®ä¾¡æ ¼æ¨ç§»ã‚’è¿½è·¡', category: 'research', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-price', dependencies: [], triggers: [], simpleExplain: 'ã“ã®å•†å“ã®å€¤æ®µãŒéå»ã©ã†å¤‰ã‚ã£ãŸã‹è¦‹ã‚‹' },
  { id: 'research-niche-finder', name: 'research-niche-finder', nameJp: 'ğŸ¯ ãƒ‹ãƒƒãƒç™ºè¦‹', description: 'ç«¶äº‰ãŒå°‘ãªãåˆ©ç›ŠãŒå‡ºã‚‹ãƒ‹ãƒƒãƒã‚’ç™ºè¦‹', category: 'research', status: 'planned', techStack: ['n8n', 'python'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-niche', dependencies: [], triggers: [], simpleExplain: 'ãƒ©ã‚¤ãƒãƒ«ãŒå°‘ãªãã¦å„²ã‹ã‚‹ã‚¸ãƒ£ãƒ³ãƒ«ã‚’è¦‹ã¤ã‘ã‚‹' },
  { id: 'research-keyword-rank', name: 'research-keyword-rank', nameJp: 'ğŸ”¤ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é †ä½', description: 'eBayã§ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢é †ä½ã‚’è¿½è·¡', category: 'research', status: 'partial', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-keyword', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'è‡ªåˆ†ã®å•†å“ãŒæ¤œç´¢ã§ä½•ç•ªç›®ã«å‡ºã‚‹ã‹ãƒã‚§ãƒƒã‚¯' },
  { id: 'research-watch', name: 'research-watch', nameJp: 'ğŸ‘€ ã‚¦ã‚©ãƒƒãƒç›£è¦–', description: 'ç‰¹å®šå•†å“ã®å‡ºå“ã‚’ç›£è¦–', category: 'research', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-watch', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: 'æ¬²ã—ã„å•†å“ãŒå‡ºãŸã‚‰é€šçŸ¥' },
  { id: 'research-seasonality', name: 'research-seasonality', nameJp: 'ğŸ“… å­£ç¯€æ€§åˆ†æ', description: 'å•†å“ã®å­£ç¯€éœ€è¦ã‚’åˆ†æ', category: 'research', status: 'planned', techStack: ['n8n', 'sql'], aiComponents: ['gemini'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-season', dependencies: [], triggers: [], simpleExplain: 'ã‚¯ãƒªã‚¹ãƒã‚¹ã«å£²ã‚Œã‚‹å•†å“ã¨ã‹ã‚’åˆ†æ' },
  { id: 'research-report-generate', name: 'research-report-generate', nameJp: 'ğŸ“Š ãƒªã‚µãƒ¼ãƒãƒ¬ãƒãƒ¼ãƒˆ', description: 'åˆ†æçµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆåŒ–', category: 'research', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/research-report', dependencies: [], triggers: [], simpleExplain: 'ãƒªã‚µãƒ¼ãƒçµæœã‚’ã¾ã¨ã‚ãŸãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œã‚‹' },

  // === é˜²è¡› (defense) - 8ä»¶ ===
  { id: 'defense-vero-check', name: 'defense-vero-check', nameJp: 'ğŸ›¡ï¸ VEROç¢ºèª', description: 'eBay VEROé•åã‚’ãƒã‚§ãƒƒã‚¯', category: 'defense', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-vero', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'å‡ºå“ç¦æ­¢ãƒ–ãƒ©ãƒ³ãƒ‰ã‹ãƒã‚§ãƒƒã‚¯' },
  { id: 'defense-ban-monitor', name: 'defense-ban-monitor', nameJp: 'âš ï¸ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç›£è¦–', description: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¶é™å…†å€™ã‚’ç›£è¦–', category: 'defense', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-ban', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¶é™ã®å…†å€™ã‚’è­¦å‘Š' },
  { id: 'defense-defect-monitor', name: 'defense-defect-monitor', nameJp: 'ğŸ“Š Defectç›£è¦–', description: 'eBay Defectç‡ã‚’ç›£è¦–', category: 'defense', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-defect', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], simpleExplain: 'ã‚»ãƒ©ãƒ¼è©•ä¾¡ã‚’ãƒã‚§ãƒƒã‚¯' },
  { id: 'defense-ip-rotation', name: 'defense-ip-rotation', nameJp: 'ğŸ”„ IPãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³', description: 'ãƒ—ãƒ­ã‚­ã‚·IPã‚’è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³', category: 'defense', status: 'partial', techStack: ['n8n', 'shell'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-ip', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'BANå¯¾ç­–ã§IPå®šæœŸå¤‰æ›´' },
  { id: 'defense-fingerprint', name: 'defense-fingerprint', nameJp: 'ğŸ†” ãƒ–ãƒ©ã‚¦ã‚¶æŒ‡ç´‹', description: 'AdsPowerã§ãƒ–ãƒ©ã‚¦ã‚¶æŒ‡ç´‹ã‚’ç®¡ç†', category: 'defense', status: 'planned', techStack: ['n8n', 'python'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-fingerprint', dependencies: [], triggers: [] },
  { id: 'defense-duplicate-check', name: 'defense-duplicate-check', nameJp: 'ğŸ” é‡è¤‡å‡ºå“ãƒã‚§ãƒƒã‚¯', description: 'åŒä¸€å•†å“ã®é‡è¤‡å‡ºå“ã‚’é˜²æ­¢', category: 'defense', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-duplicate', dependencies: [], triggers: ['listing-reserve'], simpleExplain: 'åŒã˜å•†å“ã‚’2å›å‡ºå“ã—ãªã„ã‚ˆã†ãƒã‚§ãƒƒã‚¯' },
  { id: 'defense-legal-update', name: 'defense-legal-update', nameJp: 'ğŸ“œ æ³•æ”¹æ­£ç›£è¦–', description: 'è¼¸å‡ºè¦åˆ¶/æ³•æ”¹æ­£ã‚’ç›£è¦–', category: 'defense', status: 'planned', techStack: ['n8n'], aiComponents: ['gemini'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-legal', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'] },
  { id: 'defense-rate-limiter', name: 'defense-rate-limiter', nameJp: 'â±ï¸ ãƒ¬ãƒ¼ãƒˆåˆ¶é™', description: 'APIå‘¼ã³å‡ºã—ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ç®¡ç†', category: 'defense', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/defense-rate', dependencies: [], triggers: [] },

  // === åŒæœŸ (sync) - 6ä»¶ ===
  { id: 'sync-ebay-inventory', name: 'sync-ebay-inventory', nameJp: 'ğŸ”„ eBayåœ¨åº«åŒæœŸ', description: 'eBayåœ¨åº«ã‚’DBã¨åŒæœŸ', category: 'sync', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/sync-ebay', dependencies: [], triggers: ['schedule-cron'], simpleExplain: 'eBayã¨DBã®åœ¨åº«æ•°ã‚’æƒãˆã‚‹', selfHealing: true },
  { id: 'sync-amazon-inventory', name: 'sync-amazon-inventory', nameJp: 'ğŸ”„ Amazonåœ¨åº«åŒæœŸ', description: 'Amazonåœ¨åº«ã‚’DBã¨åŒæœŸ', category: 'sync', status: 'planned', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: true, webhookPath: '/webhook/sync-amazon', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'sync-orders-all', name: 'sync-orders-all', nameJp: 'ğŸ”„ å…¨æ³¨æ–‡åŒæœŸ', description: 'å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®æ³¨æ–‡ã‚’åŒæœŸ', category: 'sync', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/sync-orders', dependencies: ['orders-new'], triggers: ['schedule-cron'], selfHealing: true },
  { id: 'sync-policy', name: 'sync-policy', nameJp: 'ğŸ”„ ãƒãƒªã‚·ãƒ¼åŒæœŸ', description: 'eBay Business Policyã‚’åŒæœŸ', category: 'sync', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/sync-policy', dependencies: [], triggers: [] },
  { id: 'sync-category', name: 'sync-category', nameJp: 'ğŸ”„ ã‚«ãƒ†ã‚´ãƒªåŒæœŸ', description: 'eBayã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ã‚’åŒæœŸ', category: 'sync', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/sync-category', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'sync-token-refresh', name: 'sync-token-refresh', nameJp: 'ğŸ”‘ ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°', description: 'OAuthãƒˆãƒ¼ã‚¯ãƒ³ã‚’è‡ªå‹•æ›´æ–°', category: 'sync', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/sync-token', dependencies: [], triggers: ['schedule-cron'], selfHealing: true, autoApproval: true },

  // === é€šçŸ¥ (notification) - 4ä»¶ ===
  { id: 'notify-chatwork', name: 'notify-chatwork', nameJp: 'ğŸ’¬ ChatWorké€šçŸ¥', description: 'ChatWorkã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡', category: 'notification', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/notify-chatwork', dependencies: [], triggers: [] },
  { id: 'notify-email', name: 'notify-email', nameJp: 'ğŸ“§ ãƒ¡ãƒ¼ãƒ«é€šçŸ¥', description: 'ãƒ¡ãƒ¼ãƒ«ã§é€šçŸ¥ã‚’é€ä¿¡', category: 'notification', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/notify-email', dependencies: [], triggers: [] },
  { id: 'notify-slack', name: 'notify-slack', nameJp: 'ğŸ’¬ Slacké€šçŸ¥', description: 'Slackã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡', category: 'notification', status: 'planned', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: false, webhookPath: '/webhook/notify-slack', dependencies: [], triggers: [] },
  { id: 'notify-daily-summary', name: 'notify-daily-summary', nameJp: 'ğŸ“Š æ—¥æ¬¡ã‚µãƒãƒªãƒ¼', description: '1æ—¥ã®å£²ä¸Š/å‡ºå“ã‚µãƒãƒªãƒ¼ã‚’é€šçŸ¥', category: 'notification', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/notify-summary', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], autoApproval: true },

  // === æ³¨æ–‡ (orders) - 10ä»¶ ===
  { id: 'orders-new', name: 'orders-new', nameJp: 'ğŸ“‹ æ–°è¦æ³¨æ–‡å–è¾¼', description: 'eBay/Amazonã‹ã‚‰æ–°è¦æ³¨æ–‡ã‚’å–è¾¼', category: 'orders', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-new', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], selfHealing: true },
  { id: 'orders-payment-confirm', name: 'orders-payment-confirm', nameJp: 'ğŸ’³ å…¥é‡‘ç¢ºèª', description: 'æ”¯æ‰•ã„å®Œäº†ã‚’ç¢ºèª', category: 'orders', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-payment', dependencies: [], triggers: ['orders-new'] },
  { id: 'orders-ship-notify', name: 'orders-ship-notify', nameJp: 'ğŸ“¦ ç™ºé€é€šçŸ¥', description: 'ãƒã‚¤ãƒ¤ãƒ¼ã«ç™ºé€å®Œäº†ã‚’é€šçŸ¥', category: 'orders', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-ship', dependencies: [], triggers: ['shipping-label-create'] },
  { id: 'orders-cancel', name: 'orders-cancel', nameJp: 'âŒ æ³¨æ–‡ã‚­ãƒ£ãƒ³ã‚»ãƒ«', description: 'æ³¨æ–‡ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†', category: 'orders', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-cancel', dependencies: ['inventory-sync-all'], triggers: [] },
  { id: 'orders-return', name: 'orders-return', nameJp: 'â†©ï¸ è¿”å“å‡¦ç†', description: 'è¿”å“ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†', category: 'orders', status: 'partial', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-return', dependencies: ['inventory-sync-all'], triggers: [] },
  { id: 'orders-invoice-generate', name: 'orders-invoice-generate', nameJp: 'ğŸ“„ ã‚¤ãƒ³ãƒœã‚¤ã‚¹ä½œæˆ', description: 'æ³¨æ–‡ã®ã‚¤ãƒ³ãƒœã‚¤ã‚¹ã‚’è‡ªå‹•ç”Ÿæˆ', category: 'orders', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-invoice', dependencies: [], triggers: ['orders-new'] },
  { id: 'orders-packing-list', name: 'orders-packing-list', nameJp: 'ğŸ“‹ æ¢±åŒ…ãƒªã‚¹ãƒˆ', description: 'æœ¬æ—¥ã®æ¢±åŒ…ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ', category: 'orders', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-packing', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'orders-reminder', name: 'orders-reminder', nameJp: 'â° ç™ºé€ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼', description: 'æœªç™ºé€æ³¨æ–‡ã‚’ãƒªãƒã‚¤ãƒ³ãƒ‰', category: 'orders', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-reminder', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'] },
  { id: 'orders-combine', name: 'orders-combine', nameJp: 'ğŸ“¦ åŒæ¢±å‡¦ç†', description: 'åŒä¸€ãƒã‚¤ãƒ¤ãƒ¼ã®æ³¨æ–‡ã‚’åŒæ¢±', category: 'orders', status: 'partial', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-combine', dependencies: [], triggers: [] },
  { id: 'orders-feedback-request', name: 'orders-feedback-request', nameJp: 'â­ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¾é ¼', description: 'åˆ°ç€å¾Œã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ä¾é ¼', category: 'orders', status: 'partial', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/orders-feedback', dependencies: [], triggers: ['schedule-cron'], autoApproval: true },

  // === é…é€ (shipping) - 7ä»¶ ===
  { id: 'shipping-label-create', name: 'shipping-label-create', nameJp: 'ğŸ·ï¸ é€ã‚ŠçŠ¶ä½œæˆ', description: 'EMS/ePacketã®é€ã‚ŠçŠ¶ã‚’ä½œæˆ', category: 'shipping', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/shipping-label', dependencies: ['orders-ship-notify'], triggers: [] },
  { id: 'shipping-tracking-update', name: 'shipping-tracking-update', nameJp: 'ğŸ“ è¿½è·¡æ›´æ–°', description: 'è¿½è·¡ç•ªå·ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°', category: 'shipping', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/shipping-tracking', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'shipping-delivered-confirm', name: 'shipping-delivered-confirm', nameJp: 'âœ… é…é”å®Œäº†ç¢ºèª', description: 'é…é”å®Œäº†ã‚’æ¤œå‡ºã—ã¦å‡¦ç†', category: 'shipping', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/shipping-delivered', dependencies: ['orders-feedback-request'], triggers: ['shipping-tracking-update'], autoApproval: true },
  { id: 'shipping-rate-compare', name: 'shipping-rate-compare', nameJp: 'ğŸ’° é€æ–™æ¯”è¼ƒ', description: 'å„é…é€æ–¹æ³•ã®æ–™é‡‘ã‚’æ¯”è¼ƒ', category: 'shipping', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/shipping-rate', dependencies: [], triggers: [] },
  { id: 'shipping-bulk-print', name: 'shipping-bulk-print', nameJp: 'ğŸ–¨ï¸ ä¸€æ‹¬å°åˆ·', description: 'è¤‡æ•°æ³¨æ–‡ã®é€ã‚ŠçŠ¶ã‚’ä¸€æ‹¬å°åˆ·', category: 'shipping', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/shipping-bulk', dependencies: [], triggers: [] },
  { id: 'shipping-customs-form', name: 'shipping-customs-form', nameJp: 'ğŸ“‹ ç¨é–¢æ›¸é¡', description: 'ç¨é–¢ç”³å‘Šæ›¸ã‚’è‡ªå‹•ç”Ÿæˆ', category: 'shipping', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/shipping-customs', dependencies: [], triggers: ['shipping-label-create'] },
  { id: 'shipping-problem-detect', name: 'shipping-problem-detect', nameJp: 'âš ï¸ é…é€ãƒˆãƒ©ãƒ–ãƒ«æ¤œå‡º', description: 'é…é€é…å»¶/ç´›å¤±ã‚’æ¤œå‡º', category: 'shipping', status: 'partial', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/shipping-problem', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'] },

  // === è²¡å‹™ (finance) - 6ä»¶ ===
  { id: 'finance-sales-report', name: 'finance-sales-report', nameJp: 'ğŸ“Š å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆ', description: 'å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¬ãƒãƒ¼ãƒˆåŒ–', category: 'finance', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/finance-sales', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'finance-profit-report', name: 'finance-profit-report', nameJp: 'ğŸ’° åˆ©ç›Šãƒ¬ãƒãƒ¼ãƒˆ', description: 'åˆ©ç›Šãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¬ãƒãƒ¼ãƒˆåŒ–', category: 'finance', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/finance-profit', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'finance-expense-track', name: 'finance-expense-track', nameJp: 'ğŸ’¸ çµŒè²»è¿½è·¡', description: 'çµŒè²»ã‚’è¨˜éŒ²ãƒ»åˆ†é¡', category: 'finance', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/finance-expense', dependencies: [], triggers: [] },
  { id: 'finance-payout-reconcile', name: 'finance-payout-reconcile', nameJp: 'ğŸ’µ å…¥é‡‘ç…§åˆ', description: 'eBay/PayPalã®å…¥é‡‘ã‚’ç…§åˆ', category: 'finance', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/finance-payout', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'finance-tax-calc', name: 'finance-tax-calc', nameJp: 'ğŸ›ï¸ ç¨é‡‘è¨ˆç®—', description: 'æ¶ˆè²»ç¨/æ‰€å¾—ç¨ã‚’è¨ˆç®—', category: 'finance', status: 'planned', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/finance-tax', dependencies: [], triggers: [] },
  { id: 'finance-invoice-export', name: 'finance-invoice-export', nameJp: 'ğŸ“„ è«‹æ±‚æ›¸å‡ºåŠ›', description: 'è«‹æ±‚æ›¸ã‚’PDFå‡ºåŠ›', category: 'finance', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/finance-invoice', dependencies: [], triggers: [] },

  // === ãƒ¡ãƒ‡ã‚£ã‚¢ (media) - 7ä»¶ ===
  { id: 'media-video-create', name: 'media-video-create', nameJp: 'ğŸ¬ å‹•ç”»ç”Ÿæˆ', description: 'Remotionã§å‹•ç”»ã‚’è‡ªå‹•ç”Ÿæˆ', category: 'media', status: 'partial', techStack: ['n8n', 'typescript', 'python'], aiComponents: ['claude', 'elevenlabs'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-video', dependencies: ['ai-voice-generate'], triggers: [], pythonScripts: ['video_render.py', 'lip_sync.py'] },
  { id: 'media-thumbnail-create', name: 'media-thumbnail-create', nameJp: 'ğŸ–¼ï¸ ã‚µãƒ ãƒä½œæˆ', description: 'å‹•ç”»ã‚µãƒ ãƒã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆ', category: 'media', status: 'partial', techStack: ['n8n', 'python'], aiComponents: ['midjourney'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-thumbnail', dependencies: [], triggers: ['media-video-create'], pythonScripts: ['image_washer.py'] },
  { id: 'media-youtube-upload', name: 'media-youtube-upload', nameJp: 'ğŸ“º YouTubeæŠ•ç¨¿', description: 'YouTubeã«å‹•ç”»ã‚’è‡ªå‹•æŠ•ç¨¿', category: 'media', status: 'planned', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-youtube', dependencies: ['media-video-create'], triggers: ['schedule-cron'] },
  { id: 'media-blog-generate', name: 'media-blog-generate', nameJp: 'ğŸ“ ãƒ–ãƒ­ã‚°ç”Ÿæˆ', description: 'å‹•ç”»ã‹ã‚‰ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ç”Ÿæˆ', category: 'media', status: 'partial', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-blog', dependencies: [], triggers: ['media-video-create'] },
  { id: 'media-ebook-generate', name: 'media-ebook-generate', nameJp: 'ğŸ“š é›»å­æ›¸ç±ç”Ÿæˆ', description: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é›»å­æ›¸ç±åŒ–', category: 'media', status: 'planned', techStack: ['n8n', 'typescript'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-ebook', dependencies: [], triggers: [] },
  { id: 'media-sns-post', name: 'media-sns-post', nameJp: 'ğŸ“± SNSæŠ•ç¨¿', description: 'Twitter/Instagramã«SNSæŠ•ç¨¿', category: 'media', status: 'planned', techStack: ['n8n'], aiComponents: ['claude'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-sns', dependencies: [], triggers: ['media-video-create'] },
  { id: 'media-asset-library', name: 'media-asset-library', nameJp: 'ğŸ“‚ ã‚¢ã‚»ãƒƒãƒˆç®¡ç†', description: 'ç”»åƒ/éŸ³å£°ã‚¢ã‚»ãƒƒãƒˆã‚’ç®¡ç†', category: 'media', status: 'partial', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/media-asset', dependencies: [], triggers: [] },

  // === å¸ä»¤å¡” (command) - 6ä»¶ ===
  { id: 'schedule-cron', name: 'schedule-cron', nameJp: 'â° ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ', description: 'cronå½¢å¼ã§å®šæœŸå®Ÿè¡Œã‚’ç®¡ç†', category: 'command', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/schedule-cron', n8nWorkflowId: 'N3-SCHEDULE-CRON-COMPLETE', dependencies: [], triggers: [], selfHealing: true },
  { id: 'command-health-check', name: 'command-health-check', nameJp: 'ğŸ¥ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯', description: 'ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¥å…¨æ€§ã‚’ç¢ºèª', category: 'command', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/command-health', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'], selfHealing: true },
  { id: 'command-failover', name: 'command-failover', nameJp: 'ğŸ”„ ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼', description: 'éšœå®³æ™‚ã«è‡ªå‹•ã§å¾©æ—§å‡¦ç†', category: 'command', status: 'partial', techStack: ['n8n', 'shell'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/command-failover', dependencies: ['notify-chatwork'], triggers: ['command-health-check'], selfHealing: true },
  { id: 'command-batch-runner', name: 'command-batch-runner', nameJp: 'ğŸš€ ãƒãƒƒãƒå®Ÿè¡Œ', description: 'è¤‡æ•°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’é€£ç¶šå®Ÿè¡Œ', category: 'command', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/command-batch', dependencies: [], triggers: [] },
  { id: 'command-queue-manager', name: 'command-queue-manager', nameJp: 'ğŸ“‹ ã‚­ãƒ¥ãƒ¼ç®¡ç†', description: 'å‡¦ç†ã‚­ãƒ¥ãƒ¼ã‚’ç›£è¦–ãƒ»ç®¡ç†', category: 'command', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/command-queue', dependencies: [], triggers: ['schedule-cron'] },
  { id: 'command-emergency-stop', name: 'command-emergency-stop', nameJp: 'ğŸ›‘ ç·Šæ€¥åœæ­¢', description: 'å…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç·Šæ€¥åœæ­¢', category: 'command', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/command-stop', dependencies: ['notify-chatwork'], triggers: [] },

  // === ã‚·ã‚¹ãƒ†ãƒ  (system) - 6ä»¶ ===
  { id: 'system-backup', name: 'system-backup', nameJp: 'ğŸ’¾ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—', description: 'DBã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—', category: 'system', status: 'active', techStack: ['n8n', 'shell', 'sql'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/system-backup', dependencies: [], triggers: ['schedule-cron'], autoApproval: true },
  { id: 'system-log-cleanup', name: 'system-log-cleanup', nameJp: 'ğŸ§¹ ãƒ­ã‚°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—', description: 'å¤ã„ãƒ­ã‚°ã‚’è‡ªå‹•å‰Šé™¤', category: 'system', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/system-log', dependencies: [], triggers: ['schedule-cron'], autoApproval: true },
  { id: 'system-db-optimize', name: 'system-db-optimize', nameJp: 'âš¡ DBæœ€é©åŒ–', description: 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æœ€é©åŒ–', category: 'system', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: false, hasAPI: true, hasDB: true, webhookPath: '/webhook/system-optimize', dependencies: [], triggers: ['schedule-cron'], autoApproval: true },
  { id: 'system-error-report', name: 'system-error-report', nameJp: 'ğŸ› ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ', description: 'ã‚¨ãƒ©ãƒ¼ã‚’ãƒ¬ãƒãƒ¼ãƒˆåŒ–', category: 'system', status: 'active', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/system-error', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'] },
  { id: 'system-usage-monitor', name: 'system-usage-monitor', nameJp: 'ğŸ“Š ä½¿ç”¨é‡ç›£è¦–', description: 'APIä½¿ç”¨é‡/ã‚³ã‚¹ãƒˆã‚’ç›£è¦–', category: 'system', status: 'partial', techStack: ['n8n', 'sql'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: true, webhookPath: '/webhook/system-usage', dependencies: ['notify-chatwork'], triggers: ['schedule-cron'] },
  { id: 'system-deploy', name: 'system-deploy', nameJp: 'ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤', description: 'ã‚·ã‚¹ãƒ†ãƒ ã‚’è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤', category: 'system', status: 'partial', techStack: ['n8n', 'shell'], aiComponents: ['none'], hasUI: true, hasAPI: true, hasDB: false, webhookPath: '/webhook/system-deploy', dependencies: ['notify-chatwork'], triggers: [] },

  // === å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (module) - 5ä»¶ ===
  { id: 'module-error-handler', name: 'module-error-handler', nameJp: 'ğŸ› ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼', description: 'å…±é€šã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«', category: 'module', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: false, dependencies: ['notify-chatwork'], triggers: [], selfHealing: true },
  { id: 'module-rate-limiter', name: 'module-rate-limiter', nameJp: 'â±ï¸ ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒã‚¿ãƒ¼', description: 'å…±é€šãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«', category: 'module', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: true, dependencies: [], triggers: [] },
  { id: 'module-retry-logic', name: 'module-retry-logic', nameJp: 'ğŸ”„ ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯', description: 'å…±é€šãƒªãƒˆãƒ©ã‚¤å‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«', category: 'module', status: 'active', techStack: ['n8n'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: false, dependencies: [], triggers: [], selfHealing: true },
  { id: 'module-auth-helper', name: 'module-auth-helper', nameJp: 'ğŸ” èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼', description: 'å…±é€šèªè¨¼å‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«', category: 'module', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: true, dependencies: ['sync-token-refresh'], triggers: [] },
  { id: 'module-data-transformer', name: 'module-data-transformer', nameJp: 'ğŸ”„ ãƒ‡ãƒ¼ã‚¿å¤‰æ›', description: 'å…±é€šãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«', category: 'module', status: 'active', techStack: ['n8n', 'typescript'], aiComponents: ['none'], hasUI: false, hasAPI: false, hasDB: false, dependencies: [], triggers: [] },
];

// ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
export function getWorkflowById(id: string): WorkflowNode | undefined {
  return WORKFLOW_REGISTRY.find(w => w.id === id);
}

export function getWorkflowsByCategory(category: WorkflowCategory): WorkflowNode[] {
  return WORKFLOW_REGISTRY.filter(w => w.category === category);
}

export function getWorkflowDependencies(id: string): WorkflowNode[] {
  const wf = getWorkflowById(id);
  if (!wf) return [];
  return wf.dependencies.map(d => getWorkflowById(d)).filter(Boolean) as WorkflowNode[];
}

export function getWorkflowTriggers(id: string): WorkflowNode[] {
  return WORKFLOW_REGISTRY.filter(w => w.triggers.includes(id));
}

export function getCategorySummary(): Array<{ category: WorkflowCategory; total: number; active: number; partial: number; planned: number }> {
  const cats = Object.keys(CATEGORY_CONFIG) as WorkflowCategory[];
  return cats.map(cat => {
    const wfs = getWorkflowsByCategory(cat);
    return { category: cat, total: wfs.length, active: wfs.filter(w => w.status === 'active').length, partial: wfs.filter(w => w.status === 'partial').length, planned: wfs.filter(w => w.status === 'planned').length };
  }).filter(s => s.total > 0);
}

export function generateMarkdownExport(): string {
  const now = new Date().toISOString().split('T')[0];
  let md = `# N3 Empire OS - ç¥çµŒç³»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«\n\nç”Ÿæˆæ—¥: ${now}\n\n`;
  const cats = Object.keys(CATEGORY_CONFIG) as WorkflowCategory[];
  for (const cat of cats) {
    const cfg = CATEGORY_CONFIG[cat];
    const wfs = getWorkflowsByCategory(cat);
    if (wfs.length === 0) continue;
    md += `## ${cfg.icon} ${cfg.label} (${wfs.length}ä»¶)\n\n`;
    for (const w of wfs) {
      const st = w.status === 'active' ? 'âœ…' : w.status === 'partial' ? 'âš ï¸' : 'ğŸ“‹';
      md += `### ${st} ${w.nameJp}\n- ID: \`${w.id}\`\n- ${w.description}\n`;
      if (w.simpleExplain) md += `- ã‹ã‚“ãŸã‚“: ${w.simpleExplain}\n`;
      md += `\n`;
    }
  }
  return md;
}

export default WORKFLOW_REGISTRY;
